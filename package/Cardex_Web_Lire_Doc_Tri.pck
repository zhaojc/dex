CREATE OR REPLACE PACKAGE Cardex_Web_Lire_Doc_Tri AS
  TYPE RECW_DO_DOSSIER IS RECORD(
    L_DO_CLE                      DO_DOSSIER.L_DO_CLE%TYPE,
    L_SI_CLE                      DO_DOSSIER.L_SI_CLE%TYPE,
    V_DO_NUMERO_DOSSIER           DO_DOSSIER.V_DO_NUMERO_DOSSIER%TYPE,
    I_CA_CLE                      DO_DOSSIER.I_CA_CLE%TYPE,
    I_SE_CLE                      DO_DOSSIER.I_SE_CLE%TYPE,
    I_CC_CLE                      DO_DOSSIER.I_CC_CLE%TYPE,
    I_NH_CLE                      DO_DOSSIER.I_NH_CLE%TYPE,
    I_PE_CLE                      DO_DOSSIER.I_PE_CLE%TYPE,
    I_ST_CLE                      DO_DOSSIER.I_ST_CLE%TYPE,
    V_DO_MOT_PASSE                DO_DOSSIER.V_DO_MOT_PASSE%TYPE,
    D_DO_DATE_DEBUT               DO_DOSSIER.D_DO_DATE_DEBUT%TYPE,
    D_DO_DATE_FIN                 DO_DOSSIER.D_DO_DATE_FIN%TYPE,
    V_DO_DUREE                    DO_DOSSIER.V_DO_DUREE%TYPE,
    V_DO_ANCIENNE_REFERENCE       DO_DOSSIER.V_DO_ANCIENNE_REFERENCE%TYPE,
    V_DO_REFERENCE_VIDEO          DO_DOSSIER.V_DO_REFERENCE_VIDEO%TYPE,
    D_DO_DATE_RAPPORTEE           DO_DOSSIER.D_DO_DATE_RAPPORTEE%TYPE,
    I_DO_CLASSE                   DO_DOSSIER.I_DO_CLASSE%TYPE,
    I_DO_RACE                     DO_DOSSIER.I_DO_RACE%TYPE,
    V_DO_LIEU                     DO_DOSSIER.V_DO_LIEU%TYPE,
    I_OR_CLE                      DO_DOSSIER.I_OR_CLE%TYPE,
    I_CR_CLE                      DO_DOSSIER.I_CR_CLE%TYPE,
    V_DO_REFERENCE1               DO_DOSSIER.V_DO_REFERENCE1%TYPE,
    V_DO_REFERENCE2               DO_DOSSIER.V_DO_REFERENCE2%TYPE,
    V_DO_ASSIGNE_A                DO_DOSSIER.V_DO_ASSIGNE_A%TYPE,
    D_DO_DATE_ASSIGNATION         DO_DOSSIER.D_DO_DATE_ASSIGNATION%TYPE,
    D_DO_DATE_EVENEMENT           DO_DOSSIER.D_DO_DATE_EVENEMENT%TYPE,
    V_DO_CREE_PAR                 DO_DOSSIER.V_DO_CREE_PAR%TYPE,
    D_DO_DATE_CREATION            DO_DOSSIER.D_DO_DATE_CREATION%TYPE,
    I_TY_CLE                      TY_TYPE.I_TY_CLE%TYPE,
    I_NA_CLE                      NA_NATURE.I_NA_CLE%TYPE,
    I_GE_CLE                      GE_GENRE.I_GE_CLE%TYPE,
    I_GE_ENTITE                   GE_GENRE.I_GE_ENTITE%TYPE,
    V_DO_REFERENCE3               DO_DOSSIER.V_DO_REFERENCE3%TYPE,
    V_DO_REFERENCE4               DO_DOSSIER.V_DO_REFERENCE4%TYPE,
    V_DO_REFERENCE5               DO_DOSSIER.V_DO_REFERENCE5%TYPE,
    C_DO_FONDE                    DO_DOSSIER.C_DO_FONDE%TYPE,
    V_DO_REFERENCE6               DO_DOSSIER.V_DO_REFERENCE6%TYPE,
    V_DO_REFERENCE7               DO_DOSSIER.V_DO_REFERENCE7%TYPE,
    I_DO_FONDE                    DO_DOSSIER.I_DO_FONDE%TYPE,
    I_RF_CLE                      RF_REFERENCE_VIDEO.I_RF_CLE%TYPE,
    B_DO_ENREGISTREMENT_CONSERVE  DO_DOSSIER.B_DO_ENREGISTREMENT_CONSERVE%TYPE,
    B_DO_ENREGISTREMENT_NUMERIQUE DO_DOSSIER.B_DO_ENREGISTREMENT_NUMERIQUE%TYPE,
    L_DO_ORIGINE                  DO_DOSSIER.L_DO_ORIGINE%TYPE);
  TYPE DTSW_DO_DOSSIER IS REF CURSOR RETURN RECW_DO_DOSSIER;
  PROCEDURE SPW_L_DO_DOSSIER(NEW_NATURE IN NA_NATURE.I_NA_CLE%TYPE,
                             rc1        IN OUT DTSW_DO_DOSSIER);
  PROCEDURE SPW_L2_DO_DOSSIER(NEW_L_DO_CLE IN DO_DOSSIER.L_DO_CLE%TYPE,
                              NEW_L_SI_CLE IN DO_DOSSIER.L_SI_CLE%TYPE,
                              rc1          IN OUT DTSW_DO_DOSSIER);
  PROCEDURE SPW_L3_DO_DOSSIER(NEW_NATURE IN NA_NATURE.I_NA_CLE%TYPE,
                              rc1        IN OUT DTSW_DO_DOSSIER);
  TYPE RECW_DO_DOSSIER_LDD IS RECORD(
    L_DO_CLE                      DO_DOSSIER.L_DO_CLE%TYPE,
    L_SI_CLE                      DO_DOSSIER.L_SI_CLE%TYPE,
    V_DO_NUMERO_DOSSIER           DO_DOSSIER.V_DO_NUMERO_DOSSIER%TYPE,
    I_CA_CLE                      DO_DOSSIER.I_CA_CLE%TYPE,
    I_SE_CLE                      DO_DOSSIER.I_SE_CLE%TYPE,
    I_CC_CLE                      DO_DOSSIER.I_CC_CLE%TYPE,
    I_NH_CLE                      DO_DOSSIER.I_NH_CLE%TYPE,
    I_PE_CLE                      DO_DOSSIER.I_PE_CLE%TYPE,
    I_ST_CLE                      DO_DOSSIER.I_ST_CLE%TYPE,
    V_DO_MOT_PASSE                DO_DOSSIER.V_DO_MOT_PASSE%TYPE,
    D_DO_DATE_DEBUT               DO_DOSSIER.D_DO_DATE_DEBUT%TYPE,
    D_DO_DATE_FIN                 DO_DOSSIER.D_DO_DATE_FIN%TYPE,
    V_DO_DUREE                    DO_DOSSIER.V_DO_DUREE%TYPE,
    V_DO_ANCIENNE_REFERENCE       DO_DOSSIER.V_DO_ANCIENNE_REFERENCE%TYPE,
    V_DO_REFERENCE_VIDEO          DO_DOSSIER.V_DO_REFERENCE_VIDEO%TYPE,
    D_DO_DATE_RAPPORTEE           DO_DOSSIER.D_DO_DATE_RAPPORTEE%TYPE,
    I_DO_CLASSE                   DO_DOSSIER.I_DO_CLASSE%TYPE,
    I_DO_RACE                     DO_DOSSIER.I_DO_RACE%TYPE,
    V_DO_LIEU                     DO_DOSSIER.V_DO_LIEU%TYPE,
    I_OR_CLE                      DO_DOSSIER.I_OR_CLE%TYPE,
    I_CR_CLE                      DO_DOSSIER.I_CR_CLE%TYPE,
    V_DO_REFERENCE1               DO_DOSSIER.V_DO_REFERENCE1%TYPE,
    V_DO_REFERENCE2               DO_DOSSIER.V_DO_REFERENCE2%TYPE,
    V_DO_ASSIGNE_A                DO_DOSSIER.V_DO_ASSIGNE_A%TYPE,
    D_DO_DATE_ASSIGNATION         DO_DOSSIER.D_DO_DATE_ASSIGNATION%TYPE,
    D_DO_DATE_EVENEMENT           DO_DOSSIER.D_DO_DATE_EVENEMENT%TYPE,
    V_DO_CREE_PAR                 DO_DOSSIER.V_DO_CREE_PAR%TYPE,
    D_DO_DATE_CREATION            DO_DOSSIER.D_DO_DATE_CREATION%TYPE,
    I_TY_CLE                      TY_TYPE.I_TY_CLE%TYPE,
    I_NA_CLE                      NA_NATURE.I_NA_CLE%TYPE,
    I_GE_CLE                      GE_GENRE.I_GE_CLE%TYPE,
    I_GE_ENTITE                   GE_GENRE.I_GE_ENTITE%TYPE,
    V_DO_REFERENCE3               DO_DOSSIER.V_DO_REFERENCE3%TYPE,
    V_DO_REFERENCE4               DO_DOSSIER.V_DO_REFERENCE4%TYPE,
    V_DO_REFERENCE5               DO_DOSSIER.V_DO_REFERENCE5%TYPE,
    L_LDD_CLE                     LDD_LIEN_DOSSIER.L_LDD_CLE%TYPE,
    L_LDD_SI_CLE                  LDD_LIEN_DOSSIER.L_SI_CLE%TYPE,
    I_LDD_RO_CLE                  LDD_LIEN_DOSSIER.I_RO_CLE%TYPE,
    V_LDD_CREE_PAR                LDD_LIEN_DOSSIER.V_LDD_CREE_PAR%TYPE,
    D_LDD_DATE_CREATION           LDD_LIEN_DOSSIER.D_LDD_DATE_CREATION%TYPE,
    C_DO_FONDE                    DO_DOSSIER.C_DO_FONDE%TYPE,
    V_DO_REFERENCE6               DO_DOSSIER.V_DO_REFERENCE6%TYPE,
    V_DO_REFERENCE7               DO_DOSSIER.V_DO_REFERENCE7%TYPE,
    I_DO_FONDE                    DO_DOSSIER.I_DO_FONDE%TYPE,
    I_RF_CLE                      RF_REFERENCE_VIDEO.I_RF_CLE%TYPE,
    I_EN_CLE                      EN_ENTITE.I_EN_CLE%TYPE,
    B_DO_ENREGISTREMENT_CONSERVE  DO_DOSSIER.B_DO_ENREGISTREMENT_CONSERVE%TYPE,
    B_DO_ENREGISTREMENT_NUMERIQUE DO_DOSSIER.B_DO_ENREGISTREMENT_NUMERIQUE%TYPE,
    L_DO_ORIGINE                  DO_DOSSIER.L_DO_ORIGINE%TYPE);
  TYPE DTSW_DO_DOSSIER_LDD IS REF CURSOR RETURN RECW_DO_DOSSIER_LDD;
  PROCEDURE SPW_L5_DO_DOSSIER(NEW_L_DO_CLE IN DO_DOSSIER.L_DO_CLE%TYPE,
                              NEW_L_SI_CLE IN DO_DOSSIER.L_SI_CLE%TYPE,
                              NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                              rc1          IN OUT DTSW_DO_DOSSIER_LDD);
  TYPE DTSW_SU_SUJET IS REF CURSOR RETURN SU_SUJET%ROWTYPE;
  TYPE RECW_SU_SUJET_ENTITE IS RECORD(
    L_SU_CLE               SU_SUJET.L_SU_CLE%TYPE,
    L_SI_CLE               SU_SUJET.L_SI_CLE%TYPE,
    I_SX_CLE               SU_SUJET.I_SX_CLE%TYPE,
    I_ST_CLE               SU_SUJET.I_ST_CLE%TYPE,
    I_NT_CLE               SU_SUJET.I_NT_CLE%TYPE,
    I_RA_CLE               SU_SUJET.I_RA_CLE%TYPE,
    I_LS_CLE               SU_SUJET.I_LS_CLE%TYPE,
    V_SU_NOM               SU_SUJET.V_SU_NOM%TYPE,
    V_SU_PRENOM            SU_SUJET.V_SU_PRENOM%TYPE,
    V_SU_SURNOM            SU_SUJET.V_SU_SURNOM%TYPE,
    D_SU_DATE_NAISSANCE    SU_SUJET.D_SU_DATE_NAISSANCE%TYPE,
    L_SU_TYPE_AGE          SU_SUJET.L_SU_TYPE_AGE%TYPE,
    C_SU_ASSURANCE_SOCIALE SU_SUJET.C_SU_ASSURANCE_SOCIALE%TYPE,
    V_SU_PERMIS_CONDUIRE   SU_SUJET.V_SU_PERMIS_CONDUIRE%TYPE,
    V_SU_GRANDEUR_METRIQUE SU_SUJET.V_SU_GRANDEUR_METRIQUE%TYPE,
    V_SU_GRANDEUR_IMPERIAL SU_SUJET.V_SU_GRANDEUR_IMPERIAL%TYPE,
    V_SU_POIDS_METRIQUE    SU_SUJET.V_SU_POIDS_METRIQUE%TYPE,
    V_SU_POIDS_IMPERIAL    SU_SUJET.V_SU_POIDS_IMPERIAL%TYPE,
    C_SU_SYSTEME           SU_SUJET.C_SU_SYSTEME%TYPE,
    I_CC_CLE               SU_SUJET.I_CC_CLE%TYPE,
    V_SU_MOT_PASSE         SU_SUJET.V_SU_MOT_PASSE%TYPE,
    V_SU_REFERENCE_1       SU_SUJET.V_SU_REFERENCE_1%TYPE,
    V_SU_REFERENCE_2       SU_SUJET.V_SU_REFERENCE_2%TYPE,
    V_SU_REFERENCE_3       SU_SUJET.V_SU_REFERENCE_3%TYPE,
    V_SU_CREE_PAR          SU_SUJET.V_SU_CREE_PAR%TYPE,
    D_SU_DATE_CREATION     SU_SUJET.D_SU_DATE_CREATION%TYPE,
    C_SU_SNDX_NOM          SU_SUJET.C_SU_SNDX_NOM%TYPE,
    C_SU_SNDX_PRENOM       SU_SUJET.C_SU_SNDX_PRENOM%TYPE,
    C_SU_SNDX_SURNOM       SU_SUJET.C_SU_SNDX_SURNOM%TYPE,
    I_SE_CLE               SE_SEVERITE.I_SE_CLE%TYPE,
    I_SE_CLE_AUTRES        SE_SEVERITE.I_SE_CLE%TYPE,
    V_SU_NO_PASSEPORT      SU_SUJET.V_SU_NO_PASSEPORT%TYPE,
    I_EN_CLE               SI_SITE.I_EN_CLE%TYPE,
    V_SU_ASSURANCE_MALADIE SU_SUJET.V_SU_ASSURANCE_MALADIE%TYPE,
    B_SU_IND_RDD           SU_SUJET.B_SU_IND_RDD%TYPE,
    I_SE_CLE_CASINO        SE_SEVERITE.I_SE_CLE%TYPE,
    D_SU_DATE_FIN_EMPLOI   SU_SUJET.D_SU_DATE_FIN_EMPLOI%TYPE);
  TYPE DTSW_SU_SUJET_ENTITE IS REF CURSOR RETURN RECW_SU_SUJET_ENTITE;
  PROCEDURE SPW_L_SU_SUJET(rc1 IN OUT DTSW_SU_SUJET_ENTITE);
  PROCEDURE SPW_L2_SU_SUJET(NEW_L_SU_CLE IN SU_SUJET.L_SU_CLE%TYPE,
                            NEW_L_SI_CLE IN SU_SUJET.L_SI_CLE%TYPE,
                            rc1          IN OUT DTSW_SU_SUJET_ENTITE);
  TYPE RECW_SU_SUJET_ROLE IS RECORD(
    L_SU_CLE               SU_SUJET.L_SU_CLE%TYPE,
    L_SI_CLE               SU_SUJET.L_SI_CLE%TYPE,
    I_SX_CLE               SU_SUJET.I_SX_CLE%TYPE,
    I_ST_CLE               SU_SUJET.I_ST_CLE%TYPE,
    I_NT_CLE               SU_SUJET.I_NT_CLE%TYPE,
    I_RA_CLE               SU_SUJET.I_RA_CLE%TYPE,
    I_LS_CLE               SU_SUJET.I_LS_CLE%TYPE,
    V_SU_NOM               SU_SUJET.V_SU_NOM%TYPE,
    V_SU_PRENOM            SU_SUJET.V_SU_PRENOM%TYPE,
    V_SU_SURNOM            SU_SUJET.V_SU_SURNOM%TYPE,
    D_SU_DATE_NAISSANCE    SU_SUJET.D_SU_DATE_NAISSANCE%TYPE,
    L_SU_TYPE_AGE          SU_SUJET.L_SU_TYPE_AGE%TYPE,
    C_SU_ASSURANCE_SOCIALE SU_SUJET.C_SU_ASSURANCE_SOCIALE%TYPE,
    V_SU_PERMIS_CONDUIRE   SU_SUJET.V_SU_PERMIS_CONDUIRE%TYPE,
    V_SU_GRANDEUR_METRIQUE SU_SUJET.V_SU_GRANDEUR_METRIQUE%TYPE,
    V_SU_GRANDEUR_IMPERIAL SU_SUJET.V_SU_GRANDEUR_IMPERIAL%TYPE,
    V_SU_POIDS_METRIQUE    SU_SUJET.V_SU_POIDS_METRIQUE%TYPE,
    V_SU_POIDS_IMPERIAL    SU_SUJET.V_SU_POIDS_IMPERIAL%TYPE,
    C_SU_SYSTEME           SU_SUJET.C_SU_SYSTEME%TYPE,
    I_CC_CLE               SU_SUJET.I_CC_CLE%TYPE,
    V_SU_MOT_PASSE         SU_SUJET.V_SU_MOT_PASSE%TYPE,
    V_SU_REFERENCE_1       SU_SUJET.V_SU_REFERENCE_1%TYPE,
    V_SU_REFERENCE_2       SU_SUJET.V_SU_REFERENCE_2%TYPE,
    V_SU_REFERENCE_3       SU_SUJET.V_SU_REFERENCE_3%TYPE,
    V_SU_CREE_PAR          SU_SUJET.V_SU_CREE_PAR%TYPE,
    D_SU_DATE_CREATION     SU_SUJET.D_SU_DATE_CREATION%TYPE,
    C_SU_SNDX_NOM          SU_SUJET.C_SU_SNDX_NOM%TYPE,
    C_SU_SNDX_PRENOM       SU_SUJET.C_SU_SNDX_PRENOM%TYPE,
    C_SU_SNDX_SURNOM       SU_SUJET.C_SU_SNDX_SURNOM%TYPE,
    I_RO_CLE               RO_ROLE.I_RO_CLE%TYPE,
    L_LDD_CLE              LDD_LIEN_DOSSIER.L_LDD_CLE%TYPE,
    L_LDD_SI_CLE           LDD_LIEN_DOSSIER.L_SI_CLE%TYPE,
    V_LDD_CREE_PAR         LDD_LIEN_DOSSIER.V_LDD_CREE_PAR%TYPE,
    I_SE_CLE               SE_SEVERITE.I_SE_CLE%TYPE,
    I_SE_CLE_AUTRES        SE_SEVERITE.I_SE_CLE%TYPE,
    V_SU_NO_PASSEPORT      SU_SUJET.V_SU_NO_PASSEPORT%TYPE,
    I_EN_CLE               SI_SITE.I_EN_CLE%TYPE,
    V_SU_ASSURANCE_MALADIE SU_SUJET.V_SU_ASSURANCE_MALADIE%TYPE,
    D_LDD_DATE_CREATION    LDD_LIEN_DOSSIER.D_LDD_DATE_CREATION%TYPE,
    B_SU_IND_RDD           SU_SUJET.B_SU_IND_RDD%TYPE,
    I_SE_CLE_CASINO        SE_SEVERITE.I_SE_CLE%TYPE,
    D_SU_DATE_FIN_EMPLOI   SU_SUJET.D_SU_DATE_FIN_EMPLOI%TYPE);
  TYPE DTSW_SU_SUJET_ROLE IS REF CURSOR RETURN RECW_SU_SUJET_ROLE;
  PROCEDURE SPW_L5_SU_SUJET(NEW_L_SU_CLE IN SU_SUJET.L_SU_CLE%TYPE,
                            NEW_L_SI_CLE IN SU_SUJET.L_SI_CLE%TYPE,
                            NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                            rc1          IN OUT DTSW_SU_SUJET_ROLE);
  PROCEDURE SPW_L5_SU_SUJET_PROVISOIRE(NEW_L_SU_CLE IN SU_SUJET.L_SU_CLE%TYPE,
                                       NEW_L_SI_CLE IN SU_SUJET.L_SI_CLE%TYPE,
                                       NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                                       rc1          IN OUT DTSW_SU_SUJET_ROLE);
  TYPE RECW_SO_SOCIETE_ENTITE IS RECORD(
    L_SO_CLE                 SO_SOCIETE.L_SO_CLE%TYPE,
    L_SI_CLE                 SO_SOCIETE.L_SI_CLE%TYPE,
    I_EN_CLE                 SI_SITE.I_EN_CLE%TYPE,
    I_ST_CLE                 SO_SOCIETE.I_ST_CLE%TYPE,
    I_LS_CLE                 SO_SOCIETE.I_LS_CLE%TYPE,
    V_SO_RAISON_SOCIALE      SO_SOCIETE.V_SO_RAISON_SOCIALE%TYPE,
    V_SO_NOM                 SO_SOCIETE.V_SO_NOM%TYPE,
    I_CL_CLE                 SO_SOCIETE.I_CL_CLE%TYPE,
    D_SO_DATE_FONDATION      SO_SOCIETE.D_SO_DATE_FONDATION%TYPE,
    I_CC_CLE                 SO_SOCIETE.I_CC_CLE%TYPE,
    V_SO_MOT_PASSE           SO_SOCIETE.V_SO_MOT_PASSE%TYPE,
    V_SO_REFERENCE_NOM       SO_SOCIETE.V_SO_REFERENCE_NOM%TYPE,
    V_SO_REFERENCE_PRENOM    SO_SOCIETE.V_SO_REFERENCE_PRENOM%TYPE,
    V_SO_REFERENCE_1         SO_SOCIETE.V_SO_REFERENCE_1%TYPE,
    V_SO_REFERENCE_2         SO_SOCIETE.V_SO_REFERENCE_2%TYPE,
    V_SO_REFERENCE_3         SO_SOCIETE.V_SO_REFERENCE_3%TYPE,
    V_SO_CREE_PAR            SO_SOCIETE.V_SO_CREE_PAR%TYPE,
    D_SO_DATE_CREATION       SO_SOCIETE.D_SO_DATE_CREATION%TYPE,
    C_SO_SNDX_RAISON_SOCIALE SO_SOCIETE.C_SO_SNDX_RAISON_SOCIALE%TYPE,
    C_SO_SNDX_NOM            SO_SOCIETE.C_SO_SNDX_NOM%TYPE,
    I_SE_CLE                 SE_SEVERITE.I_SE_CLE%TYPE,
    L_SO_CENTRE_REGIONAL     SO_SOCIETE.L_SO_CENTRE_REGIONAL%TYPE,
    V_SO_DISTRICT            SO_SOCIETE.V_SO_DISTRICT%TYPE,
    V_SO_CODE_COMPTE         SO_SOCIETE.V_SO_CODE_COMPTE%TYPE,
    B_SO_ACTIF               SO_SOCIETE.B_SO_ACTIF%TYPE,
    D_SO_DATE_INACTIVATION   SO_SOCIETE.D_SO_DATE_INACTIVATION%TYPE,
    B_SO_IND_RDD             SO_SOCIETE.B_SO_IND_RDD%TYPE,
    V_SO_COMMENTAIRE         SO_SOCIETE.V_SO_COMMENTAIRE%TYPE,
    V_SO_RAISON_INACTIVATION SO_SOCIETE.V_SO_RAISON_INACTIVATION%TYPE,
    NOM_CENTREREG            VARCHAR(60),
    NOM_COC                  VARCHAR(60),
    NOM_DISTRICT             VARCHAR(60),
    I_SE_CLE_CASINO          SE_SEVERITE.I_SE_CLE%TYPE,
    I_SO_ECHANTILLONAGE      SO_SOCIETE.I_SO_ECHANTILLONAGE%TYPE);
  TYPE DTSW_SO_SOCIETE_ENTITE IS REF CURSOR RETURN RECW_SO_SOCIETE_ENTITE;

  PROCEDURE SPW_L_SO_SOCIETE(rc1 IN OUT DTSW_SO_SOCIETE_ENTITE);
  PROCEDURE SPW_L2_SO_SOCIETE(NEW_L_SO_CLE IN SO_SOCIETE.L_SO_CLE%TYPE,
                              NEW_L_SI_CLE IN SO_SOCIETE.L_SI_CLE%TYPE,
                              rc1          IN OUT DTSW_SO_SOCIETE_ENTITE);
  TYPE RECW_SO_SOCIETE_ROLE IS RECORD(
    L_SO_CLE                 SO_SOCIETE.L_SO_CLE%TYPE,
    L_SI_CLE                 SO_SOCIETE.L_SI_CLE%TYPE,
    I_ST_CLE                 SO_SOCIETE.I_ST_CLE%TYPE,
    I_LS_CLE                 SO_SOCIETE.I_LS_CLE%TYPE,
    V_SO_RAISON_SOCIALE      SO_SOCIETE.V_SO_RAISON_SOCIALE%TYPE,
    V_SO_NOM                 SO_SOCIETE.V_SO_NOM%TYPE,
    I_CL_CLE                 SO_SOCIETE.I_CL_CLE%TYPE,
    D_SO_DATE_FONDATION      SO_SOCIETE.D_SO_DATE_FONDATION%TYPE,
    I_CC_CLE                 SO_SOCIETE.I_CC_CLE%TYPE,
    V_SO_MOT_PASSE           SO_SOCIETE.V_SO_MOT_PASSE%TYPE,
    V_SO_REFERENCE_NOM       SO_SOCIETE.V_SO_REFERENCE_NOM%TYPE,
    V_SO_REFERENCE_PRENOM    SO_SOCIETE.V_SO_REFERENCE_PRENOM%TYPE,
    V_SO_REFERENCE_1         SO_SOCIETE.V_SO_REFERENCE_1%TYPE,
    V_SO_REFERENCE_2         SO_SOCIETE.V_SO_REFERENCE_2%TYPE,
    V_SO_REFERENCE_3         SO_SOCIETE.V_SO_REFERENCE_3%TYPE,
    V_SO_CREE_PAR            SO_SOCIETE.V_SO_CREE_PAR%TYPE,
    D_SO_DATE_CREATION       SO_SOCIETE.D_SO_DATE_CREATION%TYPE,
    C_SO_SNDX_RAISON_SOCIALE SO_SOCIETE.C_SO_SNDX_RAISON_SOCIALE%TYPE,
    C_SO_SNDX_NOM            SO_SOCIETE.C_SO_SNDX_NOM%TYPE,
    I_RO_CLE                 RO_ROLE.I_RO_CLE%TYPE,
    L_LDD_CLE                LDD_LIEN_DOSSIER.L_LDD_CLE%TYPE,
    L_LDD_SI_CLE             LDD_LIEN_DOSSIER.L_SI_CLE%TYPE,
    V_LDD_CREE_PAR           LDD_LIEN_DOSSIER.V_LDD_CREE_PAR%TYPE,
    D_LDD_DATE_CREATION      LDD_LIEN_DOSSIER.D_LDD_DATE_CREATION%TYPE,
    I_SE_CLE                 SE_SEVERITE.I_SE_CLE%TYPE,
    L_SO_CENTRE_REGIONAL     SO_SOCIETE.L_SO_CENTRE_REGIONAL%TYPE,
    V_SO_DISTRICT            SO_SOCIETE.V_SO_DISTRICT%TYPE,
    V_SO_CODE_COMPTE         SO_SOCIETE.V_SO_CODE_COMPTE%TYPE,
    B_SO_ACTIF               SO_SOCIETE.B_SO_ACTIF%TYPE,
    D_SO_DATE_INACTIVATION   SO_SOCIETE.D_SO_DATE_INACTIVATION%TYPE,
    B_SO_IND_RDD             SO_SOCIETE.B_SO_IND_RDD%TYPE,
    V_SO_COMMENTAIRE         SO_SOCIETE.V_SO_COMMENTAIRE%TYPE,
    V_SO_RAISON_INACTIVATION SO_SOCIETE.V_SO_RAISON_INACTIVATION%TYPE,
    NOM_CENTREREG            VARCHAR(60),
    NOM_COC                  VARCHAR(60),
    NOM_DISTRICT             VARCHAR(60),
    I_SE_CLE_CASINO          SE_SEVERITE.I_SE_CLE%TYPE,
    I_SO_ECHANTILLONAGE      SO_SOCIETE.I_SO_ECHANTILLONAGE%TYPE);
  TYPE DTSW_SO_SOCIETE_ROLE IS REF CURSOR RETURN RECW_SO_SOCIETE_ROLE;
  PROCEDURE SPW_L5_SO_SOCIETE(NEW_L_SO_CLE IN SO_SOCIETE.L_SO_CLE%TYPE,
                              NEW_L_SI_CLE IN SO_SOCIETE.L_SI_CLE%TYPE,
                              NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                              rc1          IN OUT DTSW_SO_SOCIETE_ROLE);
  TYPE RECW_VE_VEHICULE_MARQUE IS RECORD(
    L_VE_CLE                 VE_VEHICULE.L_VE_CLE%TYPE,
    L_SI_CLE                 VE_VEHICULE.L_SI_CLE%TYPE,
    I_EN_CLE                 SI_SITE.I_EN_CLE%TYPE,
    I_MD_CLE                 VE_VEHICULE.I_MD_CLE%TYPE,
    I_CC_CLE                 VE_VEHICULE.I_CC_CLE%TYPE,
    V_VE_IMMATRICULATION     VE_VEHICULE.V_VE_IMMATRICULATION%TYPE,
    V_VE_PROVINCE            VE_VEHICULE.V_VE_PROVINCE%TYPE,
    C_VE_ANNEE               VE_VEHICULE.C_VE_ANNEE%TYPE,
    V_VE_VIGNETTE            VE_VEHICULE.V_VE_VIGNETTE%TYPE,
    V_VE_NUMERO_SERIE        VE_VEHICULE.V_VE_NUMERO_SERIE%TYPE,
    V_VE_ASSUREUR            VE_VEHICULE.V_VE_ASSUREUR%TYPE,
    V_VE_POLICE              VE_VEHICULE.V_VE_POLICE%TYPE,
    D_VE_EXPIRATION_VIGNETTE VE_VEHICULE.D_VE_EXPIRATION_VIGNETTE%TYPE,
    D_VE_EXPIRATION_POLICE   VE_VEHICULE.D_VE_EXPIRATION_POLICE%TYPE,
    V_VE_CREE_PAR            VE_VEHICULE.V_VE_CREE_PAR%TYPE,
    D_VE_DATE_CREATION       VE_VEHICULE.D_VE_DATE_CREATION%TYPE,
    V_VE_MOT_PASSE           VE_VEHICULE.V_VE_MOT_PASSE%TYPE,
    I_MA_CLE                 MD_MODELE.I_MA_CLE%TYPE,
    V_VE_COMMENTAIRE         VE_VEHICULE.V_VE_COMMENTAIRE%TYPE,
    L_PR_CLE                 VE_VEHICULE.L_PR_CLE%TYPE);
  TYPE DTSW_VE_VEHICULE IS REF CURSOR RETURN RECW_VE_VEHICULE_MARQUE;
  PROCEDURE SPW_L_VE_VEHICULE(rc1 IN OUT DTSW_VE_VEHICULE);
  PROCEDURE SPW_L2_VE_VEHICULE(NEW_L_VE_CLE IN VE_VEHICULE.L_VE_CLE%TYPE,
                               NEW_L_SI_CLE IN VE_VEHICULE.L_SI_CLE%TYPE,
                               rc1          IN OUT DTSW_VE_VEHICULE);
  TYPE RECW_VE_VEHICULE_ROLE IS RECORD(
    L_VE_CLE                 VE_VEHICULE.L_VE_CLE%TYPE,
    L_SI_CLE                 VE_VEHICULE.L_SI_CLE%TYPE,
    I_EN_CLE                 SI_SITE.I_EN_CLE%TYPE,
    I_MD_CLE                 VE_VEHICULE.I_MD_CLE%TYPE,
    I_CC_CLE                 VE_VEHICULE.I_CC_CLE%TYPE,
    V_VE_IMMATRICULATION     VE_VEHICULE.V_VE_IMMATRICULATION%TYPE,
    V_VE_PROVINCE            VE_VEHICULE.V_VE_PROVINCE%TYPE,
    C_VE_ANNEE               VE_VEHICULE.C_VE_ANNEE%TYPE,
    V_VE_VIGNETTE            VE_VEHICULE.V_VE_VIGNETTE%TYPE,
    V_VE_NUMERO_SERIE        VE_VEHICULE.V_VE_NUMERO_SERIE%TYPE,
    V_VE_ASSUREUR            VE_VEHICULE.V_VE_ASSUREUR%TYPE,
    V_VE_POLICE              VE_VEHICULE.V_VE_POLICE%TYPE,
    D_VE_EXPIRATION_VIGNETTE VE_VEHICULE.D_VE_EXPIRATION_VIGNETTE%TYPE,
    D_VE_EXPIRATION_POLICE   VE_VEHICULE.D_VE_EXPIRATION_POLICE%TYPE,
    V_VE_CREE_PAR            VE_VEHICULE.V_VE_CREE_PAR%TYPE,
    D_VE_DATE_CREATION       VE_VEHICULE.D_VE_DATE_CREATION%TYPE,
    V_VE_MOT_PASSE           VE_VEHICULE.V_VE_MOT_PASSE%TYPE,
    I_MA_CLE                 MD_MODELE.I_MA_CLE%TYPE,
    I_RO_CLE                 RO_ROLE.I_RO_CLE%TYPE,
    V_LDD_CREE_PAR           LDD_LIEN_DOSSIER.V_LDD_CREE_PAR%TYPE,
    L_LDD_CLE                LDD_LIEN_DOSSIER.L_LDD_CLE%TYPE,
    L_LDD_SI_CLE             LDD_LIEN_DOSSIER.L_SI_CLE%TYPE,
    D_LDD_DATE_CREATION      LDD_LIEN_DOSSIER.D_LDD_DATE_CREATION%TYPE,
    V_VE_COMMENTAIRE         VE_VEHICULE.V_VE_COMMENTAIRE%TYPE,
    L_PR_CLE                 VE_VEHICULE.L_PR_CLE%TYPE);
  TYPE DTSW_VE_VEHICULE_ROLE IS REF CURSOR RETURN RECW_VE_VEHICULE_ROLE;
  PROCEDURE SPW_L5_VE_VEHICULE(NEW_L_VE_CLE IN VE_VEHICULE.L_VE_CLE%TYPE,
                               NEW_L_SI_CLE IN VE_VEHICULE.L_SI_CLE%TYPE,
                               NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                               rc1          IN OUT DTSW_VE_VEHICULE_ROLE);
  TYPE RECW_LPV_LIEN_PARTICULARITE IS RECORD(
    L_LPV_CLE           LPV_LIEN_PARTICULARITE.L_LPV_CLE%TYPE,
    L_SI_CLE            LPV_LIEN_PARTICULARITE.L_SI_CLE%TYPE,
    L_VE_CLE            LPV_LIEN_PARTICULARITE.L_VE_CLE%TYPE,
    I_PT_CLE            LPV_LIEN_PARTICULARITE.I_PT_CLE%TYPE,
    V_LPV_CREE_PAR      LPV_LIEN_PARTICULARITE.V_LPV_CREE_PAR%TYPE,
    D_LPV_DATE_CREATION LPV_LIEN_PARTICULARITE.D_LPV_DATE_CREATION%TYPE,
    L_LPV_REF_SITE      LPV_LIEN_PARTICULARITE.L_LPV_REF_SITE%TYPE,
    C_LPV_REF_GENRE     LPV_LIEN_PARTICULARITE.C_LPV_REF_GENRE%TYPE,
    V_TR_DESCRIPTION    TR_TRADUCTION.V_TR_DESCRIPTION%TYPE);
  TYPE DTSW_LPV_LIEN_PARTICULARITE IS REF CURSOR RETURN RECW_LPV_LIEN_PARTICULARITE;
  PROCEDURE SPW_L_Lpv_Lien_Particularite(NEW_L_VE_CLE        IN LPV_LIEN_PARTICULARITE.L_VE_CLE%TYPE,
                                         NEW_L_LPV_REF_SITE  IN LPV_LIEN_PARTICULARITE.L_LPV_REF_SITE%TYPE,
                                         NEW_C_LPV_REF_GENRE IN LPV_LIEN_PARTICULARITE.C_LPV_REF_GENRE%TYPE,
                                         rc1                 IN OUT DTSW_LPV_LIEN_PARTICULARITE);
  TYPE REC2W_AD_ADRESSE IS RECORD(
    L_AD_CLE               AD_ADRESSE.L_AD_CLE%TYPE,
    L_SI_CLE               AD_ADRESSE.L_SI_CLE%TYPE,
    L_AD_REFERENCE         AD_ADRESSE.L_AD_REFERENCE%TYPE,
    V_AD_ADRESSE           AD_ADRESSE.V_AD_ADRESSE%TYPE,
    V_AD_ADRESSE2          AD_ADRESSE.V_AD_ADRESSE2%TYPE,
    L_VI_CLE               AD_ADRESSE.L_VI_CLE%TYPE,
    V_AD_CODE_POSTAL       AD_ADRESSE.V_AD_CODE_POSTAL%TYPE,
    V_AD_TELEPHONE_1       AD_ADRESSE.V_AD_TELEPHONE_1%TYPE,
    V_AD_TELEPHONE_2       AD_ADRESSE.V_AD_TELEPHONE_2%TYPE,
    V_AD_TELEPHONE_3       AD_ADRESSE.V_AD_TELEPHONE_3%TYPE,
    I_ST_CLE               AD_ADRESSE.I_ST_CLE%TYPE,
    V_AD_COMMENTAIRE       AD_ADRESSE.V_AD_COMMENTAIRE%TYPE,
    V_AD_CREE_PAR          AD_ADRESSE.V_AD_CREE_PAR%TYPE,
    D_AD_DATE_CREATION     AD_ADRESSE.D_AD_DATE_CREATION%TYPE,
    V_AD_MODIFIE_PAR       AD_ADRESSE.V_AD_MODIFIE_PAR%TYPE,
    D_AD_DATE_MODIFICATION AD_ADRESSE.D_AD_DATE_MODIFICATION%TYPE,
    L_AD_REF_SITE          AD_ADRESSE.L_AD_REF_SITE%TYPE,
    C_AD_REF_GENRE         AD_ADRESSE.C_AD_REF_GENRE%TYPE,
    I_PA_CLE               PA_PAYS.I_PA_CLE%TYPE,
    L_PR_CLE               PR_PROVINCE.L_PR_CLE%TYPE,
    V_VI_VILLE             VI_VILLE.V_VI_VILLE%TYPE);
  TYPE DTS3W_AD_ADRESSE IS REF CURSOR RETURN REC2W_AD_ADRESSE;
  PROCEDURE SPW_L3_Ad_Adresse(NEW_L_AD_REFERENCE IN AD_ADRESSE.L_AD_REFERENCE%TYPE,
                              NEW_L_AD_REF_SITE  IN AD_ADRESSE.L_AD_REF_SITE%TYPE,
                              NEW_C_AD_REF_GENRE IN AD_ADRESSE.C_AD_REF_GENRE%TYPE,
                              rc1                IN OUT DTS3W_AD_ADRESSE);
  TYPE RECW_LSC_CARACTERISTIQUE IS RECORD(
    L_LSC_CLE           LSC_CARACTERISTIQUE.L_LSC_CLE%TYPE,
    L_SI_CLE            LSC_CARACTERISTIQUE.L_SI_CLE%TYPE,
    L_CR_CLE            LSC_CARACTERISTIQUE.L_CR_CLE%TYPE,
    L_LSC_REFERENCE     LSC_CARACTERISTIQUE.L_LSC_REFERENCE%TYPE,
    V_LSC_CREE_PAR      LSC_CARACTERISTIQUE.V_LSC_CREE_PAR%TYPE,
    D_LSC_DATE_CREATION LSC_CARACTERISTIQUE.D_LSC_DATE_CREATION%TYPE,
    L_LSC_REF_SITE      LSC_CARACTERISTIQUE.L_LSC_REF_SITE%TYPE,
    C_LSC_REF_GENRE     LSC_CARACTERISTIQUE.C_LSC_REF_GENRE%TYPE,
    V_TR_DESCRIPTION    TR_TRADUCTION.V_TR_DESCRIPTION%TYPE);
  TYPE DTSW_LSC_CARACTERISTIQUE IS REF CURSOR RETURN RECW_LSC_CARACTERISTIQUE;
  PROCEDURE SPW_L_Lsc_Caracteristique(NEW_L_LSC_REFERENCE IN LSC_CARACTERISTIQUE.L_LSC_REFERENCE%TYPE,
                                      NEW_L_LSC_REF_SITE  IN LSC_CARACTERISTIQUE.L_LSC_REF_SITE%TYPE,
                                      NEW_C_LSC_REF_GENRE IN LSC_CARACTERISTIQUE.C_LSC_REF_GENRE%TYPE,
                                      rc1                 IN OUT DTSW_LSC_CARACTERISTIQUE);
  TYPE RECW_LJD_LIEN_JEU_DOSSIER IS RECORD(
    L_LJD_CLE           LJD_LIEN_JEU_DOSSIER.L_LJD_CLE%TYPE,
    L_SI_CLE            LJD_LIEN_JEU_DOSSIER.L_SI_CLE%TYPE,
    L_DO_CLE            LJD_LIEN_JEU_DOSSIER.L_DO_CLE%TYPE,
    I_JE_CLE            LJD_LIEN_JEU_DOSSIER.I_JE_CLE%TYPE,
    V_LJD_CREE_PAR      LJD_LIEN_JEU_DOSSIER.V_LJD_CREE_PAR%TYPE,
    D_LJD_DATE_CREATION LJD_LIEN_JEU_DOSSIER.D_LJD_DATE_CREATION%TYPE,
    L_LJD_REF_SITE      LJD_LIEN_JEU_DOSSIER.L_LJD_REF_SITE%TYPE,
    C_LJD_REF_GENRE     LJD_LIEN_JEU_DOSSIER.C_LJD_REF_GENRE%TYPE);
  TYPE DTSW_LJD_LIEN_JEU_DOSSIER IS REF CURSOR RETURN RECW_LJD_LIEN_JEU_DOSSIER;
  PROCEDURE SPW_L_Ljd_Lien_Jeu_Dossier(NEW_L_DO_CLE        IN LJD_LIEN_JEU_DOSSIER.L_DO_CLE%TYPE,
                                       NEW_L_LJD_REF_SITE  IN LJD_LIEN_JEU_DOSSIER.L_LJD_REF_SITE%TYPE,
                                       NEW_C_LJD_REF_GENRE IN LJD_LIEN_JEU_DOSSIER.C_LJD_REF_GENRE%TYPE,
                                       rc1                 IN OUT DTSW_LJD_LIEN_JEU_DOSSIER);

  TYPE RECW_LJV_JEU_EVAL IS RECORD(
    L_LJV_CLE           LJV_JEU_EVAL.L_LJV_CLE%TYPE,
    L_SI_CLE            LJV_JEU_EVAL.L_SI_CLE%TYPE,
    L_LME_CLE           LJV_JEU_EVAL.L_LME_CLE%TYPE,
    L_LME_REF_SITE      LJV_JEU_EVAL.L_LME_REF_SITE%TYPE,
    L_JE_CLE            LJV_JEU_EVAL.L_JE_CLE%TYPE,
    V_LJV_CREE_PAR      LJV_JEU_EVAL.V_LJV_CREE_PAR%TYPE,
    D_LJV_DATE_CREATION LJV_JEU_EVAL.D_LJV_DATE_CREATION%TYPE);
  TYPE DTSW_LJV_JEU_EVAL IS REF CURSOR RETURN RECW_LJV_JEU_EVAL;
  PROCEDURE SPW_L_LJV_JEU_EVAL(NEW_L_LME_CLE      IN LJV_JEU_EVAL.L_LME_CLE%TYPE,
                               NEW_L_LME_REF_SITE IN LJV_JEU_EVAL.L_LME_REF_SITE%TYPE,
                               rc1                IN OUT DTSW_LJV_JEU_EVAL);

  TYPE RECW_LIEN_ETAT_EVAL IS RECORD(
    L_LEE_CLE           LEE_LIEN_ETAT_EVAL.L_LEE_CLE%TYPE,
    L_SI_CLE            LEE_LIEN_ETAT_EVAL.L_SI_CLE%TYPE,
    L_EV_CLE            LEE_LIEN_ETAT_EVAL.L_EV_CLE%TYPE,
    L_EV_REF_SITE       LEE_LIEN_ETAT_EVAL.L_EV_REF_SITE%TYPE,
    L_EE_CLE            LEE_LIEN_ETAT_EVAL.L_EE_CLE%TYPE,
    V_LEE_CREE_PAR      LEE_LIEN_ETAT_EVAL.V_LEE_CREE_PAR%TYPE,
    D_LEE_DATE_CREATION LEE_LIEN_ETAT_EVAL.D_LEE_DATE_CREATION%TYPE);
  TYPE DTSW_LIEN_ETAT_EVAL IS REF CURSOR RETURN RECW_LIEN_ETAT_EVAL;
  PROCEDURE SPW_L_LIEN_ETAT_EVAL(NEW_L_EV_CLE      IN LEE_LIEN_ETAT_EVAL.L_EV_CLE%TYPE,
                                 NEW_L_EV_REF_SITE IN LEE_LIEN_ETAT_EVAL.L_EV_REF_SITE%TYPE,
                                 rc1               IN OUT DTSW_LIEN_ETAT_EVAL);

  TYPE RECW2_LIEN_ETAT_EVAL IS RECORD(
    L_EE_CLE LEE_LIEN_ETAT_EVAL.L_EE_CLE%TYPE);
  TYPE DTSW2_LIEN_ETAT_EVAL IS REF CURSOR RETURN RECW2_LIEN_ETAT_EVAL;
  PROCEDURE SPW_L2_LIEN_ETAT_EVAL(NEW_L_EV_CLE      IN LEE_LIEN_ETAT_EVAL.L_EV_CLE%TYPE,
                                  NEW_L_EV_REF_SITE IN LEE_LIEN_ETAT_EVAL.L_EV_REF_SITE%TYPE,
                                  rc1               IN OUT DTSW2_LIEN_ETAT_EVAL);

  TYPE RECW_LIEN_PROPOS_EVAL IS RECORD(
    L_LPE_CLE           LPE_LIEN_PROPOS_EVAL.L_LPE_CLE%TYPE,
    L_SI_CLE            LPE_LIEN_PROPOS_EVAL.L_SI_CLE%TYPE,
    L_EV_CLE            LPE_LIEN_PROPOS_EVAL.L_EV_CLE%TYPE,
    L_EV_REF_SITE       LPE_LIEN_PROPOS_EVAL.L_EV_REF_SITE%TYPE,
    L_PE_CLE            LPE_LIEN_PROPOS_EVAL.L_PE_CLE%TYPE,
    V_LPE_CREE_PAR      LPE_LIEN_PROPOS_EVAL.V_LPE_CREE_PAR%TYPE,
    D_LPE_DATE_CREATION LPE_LIEN_PROPOS_EVAL.D_LPE_DATE_CREATION%TYPE);
  TYPE DTSW_LIEN_PROPOS_EVAL IS REF CURSOR RETURN RECW_LIEN_PROPOS_EVAL;
  PROCEDURE SPW_L_LIEN_PROPOS_EVAL(NEW_L_EV_CLE      IN LPE_LIEN_PROPOS_EVAL.L_EV_CLE%TYPE,
                                   NEW_L_EV_REF_SITE IN LPE_LIEN_PROPOS_EVAL.L_EV_REF_SITE%TYPE,
                                   rc1               IN OUT DTSW_LIEN_PROPOS_EVAL);

  TYPE RECW2_LIEN_PROPOS_EVAL IS RECORD(
    L_PE_CLE LPE_LIEN_PROPOS_EVAL.L_PE_CLE%TYPE);
  TYPE DTSW2_LIEN_PROPOS_EVAL IS REF CURSOR RETURN RECW2_LIEN_PROPOS_EVAL;
  PROCEDURE SPW_L2_LIEN_PROPOS_EVAL(NEW_L_EV_CLE      IN LPE_LIEN_PROPOS_EVAL.L_EV_CLE%TYPE,
                                    NEW_L_EV_REF_SITE IN LPE_LIEN_PROPOS_EVAL.L_EV_REF_SITE%TYPE,
                                    rc1               IN OUT DTSW2_LIEN_PROPOS_EVAL);

  TYPE RECW_LIEN_VISITE_EVAL IS RECORD(
    L_LVE_CLE           LVE_LIEN_VISITE_EVAL.L_LVE_CLE%TYPE,
    L_SI_CLE            LVE_LIEN_VISITE_EVAL.L_SI_CLE%TYPE,
    L_EV_CLE            LVE_LIEN_VISITE_EVAL.L_LME_CLE%TYPE,
    L_EV_REF_SITE       LVE_LIEN_VISITE_EVAL.L_LME_REF_SITE%TYPE,
    V_LVE_PERIODE       LVE_LIEN_VISITE_EVAL.V_LVE_PERIODE%TYPE,
    L_LVE_NOMBRE_VISITE LVE_LIEN_VISITE_EVAL.L_LVE_NOMBRE_VISITE%TYPE,
    L_LVE_GAIN_PERTE    LVE_LIEN_VISITE_EVAL.L_LVE_GAIN_PERTE%TYPE,
    V_LVE_CREE_PAR      LVE_LIEN_VISITE_EVAL.V_LVE_CREE_PAR%TYPE,
    D_LVE_DATE_CREATION LVE_LIEN_VISITE_EVAL.D_LVE_DATE_CREATION%TYPE);
  TYPE DTSW_LIEN_VISITE_EVAL IS REF CURSOR RETURN RECW_LIEN_VISITE_EVAL;
  PROCEDURE SPW_L_LIEN_VISITE_EVAL(NEW_L_LME_CLE      IN LVE_LIEN_VISITE_EVAL.L_LME_CLE%TYPE,
                                   NEW_L_LME_REF_SITE IN LVE_LIEN_VISITE_EVAL.L_LME_REF_SITE%TYPE,
                                   rc1                IN OUT DTSW_LIEN_VISITE_EVAL);

  TYPE RECW_LDC_LIEN_DOSSIER_CAT IS RECORD(
    L_DO_CLE               LDC_LIEN_DOSSIER_CATEGORIE.L_DO_CLE%TYPE,
    L_SI_CLE               LDC_LIEN_DOSSIER_CATEGORIE.L_SI_CLE%TYPE,
    I_CA_CLE               LDC_LIEN_DOSSIER_CATEGORIE.I_CA_CLE%TYPE,
    V_LDC_CREE_PAR         LDC_LIEN_DOSSIER_CATEGORIE.V_LDC_CREE_PAR%TYPE,
    D_LDC_DATE_CREATION    LDC_LIEN_DOSSIER_CATEGORIE.D_LDC_DATE_CREATION%TYPE,
    D_LDC_DATE_APPROBATION LDC_LIEN_DOSSIER_CATEGORIE.D_LDC_DATE_APPROBATION%TYPE,
    V_LDC_APPROUVE_PAR     LDC_LIEN_DOSSIER_CATEGORIE.V_LDC_APPROUVE_PAR%TYPE);
  TYPE DTSW_LDC_LIEN_DOSSIER_CAT IS REF CURSOR RETURN RECW_LDC_LIEN_DOSSIER_CAT;
  PROCEDURE SPW_L_LDC_LIEN_DOSSIER_CAT(NEW_L_DO_CLE IN LDC_LIEN_DOSSIER_CATEGORIE.L_DO_CLE%TYPE,
                                       NEW_L_SI_CLE IN LDC_LIEN_DOSSIER_CATEGORIE.L_SI_CLE%TYPE,
                                       rc1          OUT DTSW_LDC_LIEN_DOSSIER_CAT);
  TYPE DTSW_SV_SUIVI IS REF CURSOR RETURN SV_SUIVI%ROWTYPE;
  PROCEDURE SPW_L_Sv_Suivi(NEW_L_SV_REFERENCE IN SV_SUIVI.L_SV_REFERENCE%TYPE,
                           NEW_L_SV_REF_SITE  IN SV_SUIVI.L_SV_REF_SITE%TYPE,
                           NEW_C_SV_REF_GENRE IN SV_SUIVI.C_SV_REF_GENRE%TYPE,
                           rc1                IN OUT DTSW_SV_SUIVI);
  TYPE DTSW_CN_CONSIGNATION IS REF CURSOR RETURN CN_CONSIGNATION%ROWTYPE;
  PROCEDURE SPW_L_CN_CONSIGNATION(NEW_L_CN_REF_CLE   IN CN_CONSIGNATION.L_CN_REF_CLE%TYPE,
                                  NEW_L_CN_REF_SITE  IN CN_CONSIGNATION.L_CN_REF_SITE%TYPE,
                                  NEW_C_CN_REF_GENRE IN CN_CONSIGNATION.C_CN_REF_GENRE%TYPE,
                                  rc1                IN OUT DTSW_CN_CONSIGNATION);
  TYPE RECW_IS_INSCRIPTION IS RECORD(
    L_IS_CLE                  IS_INSCRIPTION.L_IS_CLE%TYPE,
    L_SI_CLE                  IS_INSCRIPTION.L_SI_CLE%TYPE,
    L_IS_REFERENCE            IS_INSCRIPTION.L_IS_REFERENCE%TYPE,
    V_IS_DUREE                IS_INSCRIPTION.V_IS_DUREE%TYPE,
    D_IS_DATE_DEBUT           IS_INSCRIPTION.D_IS_DATE_DEBUT%TYPE,
    D_IS_DATE_FIN             IS_INSCRIPTION.D_IS_DATE_FIN%TYPE,
    I_IS_PERIODE              IS_INSCRIPTION.I_IS_PERIODE%TYPE,
    L_IS_SITE                 SIS_SITE_INSCRIPTION.L_IS_SITE%TYPE,
    I_ST_CLE                  IS_INSCRIPTION.I_ST_CLE%TYPE,
    V_IS_CREE_PAR             IS_INSCRIPTION.V_IS_CREE_PAR%TYPE,
    D_IS_DATE_CREATION        IS_INSCRIPTION.D_IS_DATE_CREATION%TYPE,
    V_IS_MODIFIE_PAR          IS_INSCRIPTION.V_IS_MODIFIE_PAR%TYPE,
    D_IS_DATE_MODIFICATION    IS_INSCRIPTION.D_IS_DATE_MODIFICATION%TYPE,
    C_IS_REF_GENRE            IS_INSCRIPTION.C_IS_REF_GENRE%TYPE,
    L_IS_REF_SITE             IS_INSCRIPTION.L_IS_REF_SITE%TYPE,
    V_SI_SITE                 SI_SITE.V_SI_SITE%TYPE,
    B_IS_AIDE_INITIALE        IS_INSCRIPTION.B_IS_AIDE_INITIALE%TYPE,
    B_IS_AIDE_IMMEDIATE       IS_INSCRIPTION.B_IS_AIDE_IMMEDIATE%TYPE,
    D_IS_COURRIEL_AIDE        IS_INSCRIPTION.D_IS_COURRIEL_AIDE%TYPE,
    D_IS_COURRIEL_SUIVI       IS_INSCRIPTION.D_IS_COURRIEL_SUIVI%TYPE,
    V_IS_INTERVENANT_FINAL    IS_INSCRIPTION.V_IS_INTERVENANT_FINAL%TYPE,
    V_IS_INTERVENANT_INITIAL  IS_INSCRIPTION.V_IS_INTERVENANT_INITIAL%TYPE,
    D_IS_RENCONTRE_FINALE     IS_INSCRIPTION.D_IS_RENCONTRE_FINALE%TYPE,
    D_IS_RENCONTRE_INITIALE   IS_INSCRIPTION.D_IS_RENCONTRE_INITIALE%TYPE,
    B_IS_TOUS_SITE_APPLICABLE IS_INSCRIPTION.B_IS_TOUS_SITE_APPLICABLE%TYPE,
    I_EN_CLE                  SI_SITE.I_EN_CLE%TYPE);
  TYPE DTSW_IS_INSCRIPTION IS REF CURSOR RETURN RECW_IS_INSCRIPTION;
  PROCEDURE SPW_L_IS_INSCRIPTION(NEW_L_IS_REFERENCE IN IS_INSCRIPTION.L_IS_REFERENCE%TYPE,
                                 NEW_L_IS_REF_SITE  IN IS_INSCRIPTION.L_IS_REF_SITE%TYPE,
                                 NEW_C_IS_REF_GENRE IN IS_INSCRIPTION.C_IS_REF_GENRE%TYPE,
                                 rc1                IN OUT DTSW_IS_INSCRIPTION);
  PROCEDURE SPW_L2_IS_INSCRIPTION(NEW_L_IS_CLE IN IS_INSCRIPTION.L_IS_REFERENCE%TYPE,
                                  NEW_L_SI_CLE IN IS_INSCRIPTION.L_IS_REF_SITE%TYPE,
                                  rc1          IN OUT DTSW_IS_INSCRIPTION);
  TYPE RECW_DO_DOSSIER_JOURNAL IS RECORD(
    L_DO_CLE                DO_DOSSIER.L_DO_CLE%TYPE,
    L_SI_CLE                DO_DOSSIER.L_SI_CLE%TYPE,
    V_DO_ANCIENNE_REFERENCE DO_DOSSIER.V_DO_ANCIENNE_REFERENCE%TYPE,
    V_DO_NUMERO_DOSSIER     DO_DOSSIER.V_DO_NUMERO_DOSSIER%TYPE,
    D_DO_DATE_DEBUT         DO_DOSSIER.D_DO_DATE_DEBUT%TYPE,
    D_DO_DATE_FIN           DO_DOSSIER.D_DO_DATE_FIN%TYPE,
    D_DO_DATE_CREATION      DO_DOSSIER.D_DO_DATE_FIN%TYPE,
    V_DO_REFERENCE_VIDEO    DO_DOSSIER.V_DO_REFERENCE_VIDEO%TYPE,
    V_DO_ASSIGNE_A          DO_DOSSIER.V_DO_ASSIGNE_A%TYPE,
    I_OR_CLE                DO_DOSSIER.I_OR_CLE%TYPE,
    I_CR_CLE                DO_DOSSIER.I_CR_CLE%TYPE,
    V_DO_LIEU               DO_DOSSIER.V_DO_LIEU%TYPE,
    V_DO_REFERENCE1         DO_DOSSIER.V_DO_REFERENCE1%TYPE,
    V_DO_REFERENCE2         DO_DOSSIER.V_DO_REFERENCE2%TYPE,
    V_DO_REFERENCE3         DO_DOSSIER.V_DO_REFERENCE3%TYPE,
    V_DO_REFERENCE5         DO_DOSSIER.V_DO_REFERENCE5%TYPE,
    I_NA_CLE                NA_NATURE.I_NA_CLE%TYPE,
    I_TY_CLE                TY_TYPE.I_TY_CLE%TYPE,
    I_CA_CLE                CA_CATEGORIE.I_CA_CLE%TYPE,
    L_CO_CLE                CO_COMMENTAIRE2.L_CO_CLE%TYPE,
    V_CO_TEMPS              CO_COMMENTAIRE2.V_CO_TEMPS%TYPE,
    CLOB_CO_TEXTE_NORMAL    CO_COMMENTAIRE2.CLOB_CO_TEXTE_NORMAL%TYPE,
    L_DO_ORIGINE            DO_DOSSIER.L_DO_ORIGINE%TYPE);
  TYPE DTSW_DO_DOSSIER_JOURNAL IS REF CURSOR RETURN RECW_DO_DOSSIER_JOURNAL;
  PROCEDURE SPW_L_DO_DOSSIER_JOURNAL(NEW_NATURE IN NA_NATURE.I_NA_CLE%TYPE,
                                     rc1        IN OUT DTSW_DO_DOSSIER_JOURNAL);
  PROCEDURE SPW_L2_DO_DOSSIER_JOURNAL(NEW_L_DO_CLE IN DO_DOSSIER.L_DO_CLE%TYPE,
                                      NEW_L_SI_CLE IN DO_DOSSIER.L_SI_CLE%TYPE,
                                      rc1          IN OUT DTSW_DO_DOSSIER_JOURNAL);
  TYPE DTS_CS_CONSIGNATION_ACTION IS REF CURSOR RETURN CS_CONSIGNATION_ACTION%ROWTYPE;
  PROCEDURE SPW_L_CS_CONSIGNATION_ACTION(NEW_V_CS_PSU_NUMERO_MANDAT IN CS_CONSIGNATION_ACTION.V_CS_PSU_NUMERO_MANDAT%TYPE,
                                         rc1                        IN OUT DTS_CS_CONSIGNATION_ACTION);
  TYPE DTSW_BI_BILLET IS REF CURSOR RETURN BI_BILLET%ROWTYPE;
  PROCEDURE SPW_L_LIEN_BILLET(NEW_L_BI_REF_CLE   IN BI_BILLET.L_BI_REF_CLE%TYPE,
                              NEW_L_BI_REF_SITE  IN BI_BILLET.L_BI_REF_SITE%TYPE,
                              NEW_C_BI_REF_GENRE IN BI_BILLET.C_BI_REF_GENRE%TYPE,
                              rc1                OUT DTSW_BI_BILLET);

  PROCEDURE SPW_L_BILLET(NEW_L_BI_CLE IN BI_BILLET.L_BI_CLE%TYPE,
                         NEW_L_SI_CLE IN BI_BILLET.L_SI_CLE%TYPE,
                         rc1          OUT DTSW_BI_BILLET);

  TYPE RECW_UR_URGENCE IS RECORD(
    L_UR_CLE                 UR_URGENCE.L_UR_CLE%TYPE,
    L_SI_CLE                 UR_URGENCE.L_SI_CLE%TYPE,
    I_EN_CLE                 SI_SITE.I_EN_CLE%TYPE,
    I_ST_CLE                 UR_URGENCE.I_ST_CLE%TYPE,
    I_CL_CLE                 UR_URGENCE.I_CL_CLE%TYPE,
    L_UR_MOTIF               UR_URGENCE.L_UR_MOTIF%TYPE,
    L_SO_REF_CLE             UR_URGENCE.L_SO_REF_CLE%TYPE,
    L_SO_REF_SITE            UR_URGENCE.L_SO_REF_SITE%TYPE,
    V_SO_NOM                 SO_SOCIETE.V_SO_NOM%TYPE,
    L_UR_REF_CLE             UR_URGENCE.L_UR_REF_CLE%TYPE,
    L_UR_REF_SITE            UR_URGENCE.L_UR_REF_SITE%TYPE,
    V_UR_UNITE               UR_URGENCE.V_UR_UNITE%TYPE,
    V_UR_DISTRICT            UR_URGENCE.V_UR_DISTRICT%TYPE,
    V_UR_CONTACT             UR_URGENCE.V_UR_CONTACT%TYPE,
    V_UR_CONTACT_PRENOM      UR_URGENCE.V_UR_CONTACT_PRENOM%TYPE,
    V_UR_VILLE               UR_URGENCE.V_UR_VILLE%TYPE,
    V_UR_EVENEMENT           UR_URGENCE.V_UR_EVENEMENT%TYPE,
    V_UR_REPONDANT           UR_URGENCE.V_UR_REPONDANT%TYPE,
    V_UR_FONCTION            UR_URGENCE.V_UR_FONCTION%TYPE,
    V_UR_MATRICULE           UR_URGENCE.V_UR_MATRICULE%TYPE,
    V_UR_CREE_PAR            UR_URGENCE.V_UR_CREE_PAR%TYPE,
    D_UR_DATE_CREATION       UR_URGENCE.D_UR_DATE_CREATION%TYPE,
    V_DO_NUMERO_DOSSIER      DO_DOSSIER.V_DO_NUMERO_DOSSIER%TYPE,
    L_DO_CLE                 DO_DOSSIER.L_DO_CLE%TYPE);
  TYPE DTSW_UR_URGENCE IS REF CURSOR RETURN RECW_UR_URGENCE;
  PROCEDURE SPW_L_UR_URGENCE(rc1 IN OUT DTSW_UR_URGENCE);

  TYPE REC_SU_SUJET_RDD IS RECORD(
    L_SU_CLE               SU_SUJET.L_SU_CLE%TYPE,
    L_SI_CLE               SU_SUJET.L_SI_CLE%TYPE,
    V_SU_NOM               SU_SUJET.V_SU_NOM%TYPE,
    V_SU_PRENOM            SU_SUJET.V_SU_PRENOM%TYPE,
    D_SU_DATE_NAISSANCE    SU_SUJET.D_SU_DATE_NAISSANCE%TYPE,
    B_SU_IND_RDD           SU_SUJET.B_SU_IND_RDD%TYPE);
  TYPE DTS_SU_SUJET_RDD IS REF CURSOR RETURN REC_SU_SUJET_RDD;
  PROCEDURE SPW_L_SU_SUJET_RDD(NEW_V_SU_NOM IN SU_SUJET.V_SU_NOM%TYPE,
                          NEW_V_SU_PRENOM IN SU_SUJET.V_SU_PRENOM%TYPE,
                          rc1          IN OUT DTS_SU_SUJET_RDD);

  TYPE RECW_SU_SUJET_ROLE_ENQUETE IS RECORD(
    L_SU_CLE               SU_SUJET.L_SU_CLE%TYPE,
    L_SI_CLE               SU_SUJET.L_SI_CLE%TYPE,
    I_SX_CLE               SU_SUJET.I_SX_CLE%TYPE,
    I_ST_CLE               SU_SUJET.I_ST_CLE%TYPE,
    I_NT_CLE               SU_SUJET.I_NT_CLE%TYPE,
    I_RA_CLE               SU_SUJET.I_RA_CLE%TYPE,
    I_LS_CLE               SU_SUJET.I_LS_CLE%TYPE,
    V_SU_NOM               SU_SUJET.V_SU_NOM%TYPE,
    V_SU_PRENOM            SU_SUJET.V_SU_PRENOM%TYPE,
    V_SU_SURNOM            SU_SUJET.V_SU_SURNOM%TYPE,
    D_SU_DATE_NAISSANCE    SU_SUJET.D_SU_DATE_NAISSANCE%TYPE,
    L_SU_TYPE_AGE          SU_SUJET.L_SU_TYPE_AGE%TYPE,
    C_SU_ASSURANCE_SOCIALE SU_SUJET.C_SU_ASSURANCE_SOCIALE%TYPE,
    V_SU_PERMIS_CONDUIRE   SU_SUJET.V_SU_PERMIS_CONDUIRE%TYPE,
    V_SU_GRANDEUR_METRIQUE SU_SUJET.V_SU_GRANDEUR_METRIQUE%TYPE,
    V_SU_GRANDEUR_IMPERIAL SU_SUJET.V_SU_GRANDEUR_IMPERIAL%TYPE,
    V_SU_POIDS_METRIQUE    SU_SUJET.V_SU_POIDS_METRIQUE%TYPE,
    V_SU_POIDS_IMPERIAL    SU_SUJET.V_SU_POIDS_IMPERIAL%TYPE,
    C_SU_SYSTEME           SU_SUJET.C_SU_SYSTEME%TYPE,
    I_CC_CLE               SU_SUJET.I_CC_CLE%TYPE,
    V_SU_MOT_PASSE         SU_SUJET.V_SU_MOT_PASSE%TYPE,
    V_SU_REFERENCE_1       SU_SUJET.V_SU_REFERENCE_1%TYPE,
    V_SU_REFERENCE_2       SU_SUJET.V_SU_REFERENCE_2%TYPE,
    V_SU_REFERENCE_3       SU_SUJET.V_SU_REFERENCE_3%TYPE,
    V_SU_CREE_PAR          SU_SUJET.V_SU_CREE_PAR%TYPE,
    D_SU_DATE_CREATION     SU_SUJET.D_SU_DATE_CREATION%TYPE,
    C_SU_SNDX_NOM          SU_SUJET.C_SU_SNDX_NOM%TYPE,
    C_SU_SNDX_PRENOM       SU_SUJET.C_SU_SNDX_PRENOM%TYPE,
    C_SU_SNDX_SURNOM       SU_SUJET.C_SU_SNDX_SURNOM%TYPE,
    I_RO_CLE               RO_ROLE.I_RO_CLE%TYPE,
    L_LDD_CLE              LDD_LIEN_DOSSIER.L_LDD_CLE%TYPE,
    L_LDD_SI_CLE           LDD_LIEN_DOSSIER.L_SI_CLE%TYPE,
    V_LDD_CREE_PAR         LDD_LIEN_DOSSIER.V_LDD_CREE_PAR%TYPE,
    I_SE_CLE               SE_SEVERITE.I_SE_CLE%TYPE,
    I_SE_CLE_AUTRES        SE_SEVERITE.I_SE_CLE%TYPE,
    V_SU_NO_PASSEPORT      SU_SUJET.V_SU_NO_PASSEPORT%TYPE,
    I_EN_CLE               SI_SITE.I_EN_CLE%TYPE,
    V_SU_ASSURANCE_MALADIE SU_SUJET.V_SU_ASSURANCE_MALADIE%TYPE,
    D_LDD_DATE_CREATION    LDD_LIEN_DOSSIER.D_LDD_DATE_CREATION%TYPE,
    B_SU_IND_RDD           SU_SUJET.B_SU_IND_RDD%TYPE,
    I_SE_CLE_CASINO        SE_SEVERITE.I_SE_CLE%TYPE,
    D_SU_DATE_FIN_EMPLOI   SU_SUJET.D_SU_DATE_FIN_EMPLOI%TYPE,
    D_DO_DATE_FIN          DO_DOSSIER.D_DO_DATE_FIN%TYPE);
  TYPE DTSW_SU_SUJET_ROLE_ENQUETE IS REF CURSOR RETURN RECW_SU_SUJET_ROLE_ENQUETE;
  PROCEDURE SPW_L6_SU_SUJET(NEW_L_SO_CLE IN SO_SOCIETE.L_SO_CLE%TYPE,
                            NEW_L_SI_CLE IN SO_SOCIETE.L_SI_CLE%TYPE,
                            rc1          IN OUT DTSW_SU_SUJET_ROLE_ENQUETE);
      
END Cardex_Web_Lire_Doc_Tri;
/
CREATE OR REPLACE PACKAGE BODY Cardex_Web_Lire_Doc_Tri AS
  PROCEDURE SPW_L_DO_DOSSIER(NEW_NATURE IN NA_NATURE.I_NA_CLE%TYPE,
                             rc1        IN OUT DTSW_DO_DOSSIER) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.V_DO_NUMERO_DOSSIER,
             P.I_CA_CLE,
             P.I_SE_CLE,
             P.I_CC_CLE,
             P.I_NH_CLE,
             P.I_PE_CLE,
             P.I_ST_CLE,
             P.V_DO_MOT_PASSE,
             P.D_DO_DATE_DEBUT,
             P.D_DO_DATE_FIN,
             P.V_DO_DUREE,
             P.V_DO_ANCIENNE_REFERENCE,
             P.V_DO_REFERENCE_VIDEO,
             P.D_DO_DATE_RAPPORTEE,
             P.I_DO_CLASSE,
             P.I_DO_RACE,
             P.V_DO_LIEU,
             P.I_OR_CLE,
             P.I_CR_CLE,
             P.V_DO_REFERENCE1,
             P.V_DO_REFERENCE2,
             P.V_DO_ASSIGNE_A,
             P.D_DO_DATE_ASSIGNATION,
             P.D_DO_DATE_EVENEMENT,
             P.V_DO_CREE_PAR,
             P.D_DO_DATE_CREATION, --Ajout pour dossier
             C.I_TY_CLE,
             T.I_NA_CLE,
             N.I_GE_CLE,
             GE.I_GE_ENTITE,
             P.V_DO_REFERENCE3,
             P.V_DO_REFERENCE4,
             P.V_DO_REFERENCE5,
             P.C_DO_FONDE,
             P.V_DO_REFERENCE6,
             P.V_DO_REFERENCE7,
             P.I_DO_FONDE,
             P.I_RF_CLE,
             P.B_DO_ENREGISTREMENT_CONSERVE,
             P.B_DO_ENREGISTREMENT_NUMERIQUE,
             P.L_DO_ORIGINE
        FROM DO_DOSSIER   P,
             CA_CATEGORIE C,
             TY_TYPE      T,
             NA_NATURE    N,
             GE_GENRE     GE
       WHERE (C.I_CA_CLE = P.I_CA_CLE AND T.I_TY_CLE = C.I_TY_CLE AND
             N.I_NA_CLE = T.I_NA_CLE)
         AND N.I_NA_CLE = NEW_NATURE
         AND GE.I_GE_CLE = N.I_GE_CLE
         AND ((P.D_DO_DATE_CREATION >= SYSDATE - 2 AND
             P.L_SI_CLE = Cardex_Special.g_site) OR
             ((P.V_DO_ASSIGNE_A = Cardex_Special.g_usager) AND
             P.D_DO_DATE_CREATION >= SYSDATE - 2))
         AND ((NOT EXISTS
              (SELECT *
                  FROM LPD_PARTAGE_DOSSIER LPD
                 WHERE LPD.L_LPD_REFERENCE = P.L_DO_CLE
                   AND LPD.L_LPD_REF_SITE = P.L_SI_CLE
                   AND LPD.C_LPD_GENRE = 'RES') AND
              NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
              Cardex_Special.g_code_confidentialite AND
              P.V_DO_MOT_PASSE IS NULL));
  END SPW_L_DO_DOSSIER;
  --Recherche directe de dossiers, mais sans enregistrement de l'accès.
  PROCEDURE SPW_L2_DO_DOSSIER(NEW_L_DO_CLE IN DO_DOSSIER.L_DO_CLE%TYPE,
                              NEW_L_SI_CLE IN DO_DOSSIER.L_SI_CLE%TYPE,
                              rc1          IN OUT DTSW_DO_DOSSIER) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.V_DO_NUMERO_DOSSIER,
             P.I_CA_CLE,
             P.I_SE_CLE,
             P.I_CC_CLE,
             P.I_NH_CLE,
             P.I_PE_CLE,
             P.I_ST_CLE,
             P.V_DO_MOT_PASSE,
             P.D_DO_DATE_DEBUT,
             P.D_DO_DATE_FIN,
             P.V_DO_DUREE,
             P.V_DO_ANCIENNE_REFERENCE,
             P.V_DO_REFERENCE_VIDEO,
             P.D_DO_DATE_RAPPORTEE,
             P.I_DO_CLASSE,
             P.I_DO_RACE,
             P.V_DO_LIEU,
             P.I_OR_CLE,
             P.I_CR_CLE,
             P.V_DO_REFERENCE1,
             P.V_DO_REFERENCE2,
             P.V_DO_ASSIGNE_A,
             P.D_DO_DATE_ASSIGNATION,
             P.D_DO_DATE_EVENEMENT,
             P.V_DO_CREE_PAR,
             P.D_DO_DATE_CREATION, --Ajout pour dossier
             C.I_TY_CLE,
             T.I_NA_CLE,
             N.I_GE_CLE,
             GE.I_GE_ENTITE,
             P.V_DO_REFERENCE3,
             P.V_DO_REFERENCE4,
             P.V_DO_REFERENCE5,
             P.C_DO_FONDE,
             P.V_DO_REFERENCE6,
             P.V_DO_REFERENCE7,
             P.I_DO_FONDE,
             P.I_RF_CLE,
             P.B_DO_ENREGISTREMENT_CONSERVE,
             P.B_DO_ENREGISTREMENT_NUMERIQUE,
             P.L_DO_ORIGINE
        FROM DO_DOSSIER   P,
             CA_CATEGORIE C,
             TY_TYPE      T,
             NA_NATURE    N,
             GE_GENRE     GE
       WHERE (C.I_CA_CLE = P.I_CA_CLE AND T.I_TY_CLE = C.I_TY_CLE AND
             N.I_NA_CLE = T.I_NA_CLE)
         AND GE.I_GE_CLE = N.I_GE_CLE
         AND P.L_DO_CLE = NEW_L_DO_CLE
         AND P.L_SI_CLE = NEW_L_SI_CLE;
  END SPW_L2_DO_DOSSIER;
  --Recherche du dossier le plus récent
  PROCEDURE SPW_L3_DO_DOSSIER(NEW_NATURE IN NA_NATURE.I_NA_CLE%TYPE,
                              rc1        IN OUT DTSW_DO_DOSSIER) IS
  begin
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.V_DO_NUMERO_DOSSIER,
             P.I_CA_CLE,
             P.I_SE_CLE,
             P.I_CC_CLE,
             P.I_NH_CLE,
             P.I_PE_CLE,
             P.I_ST_CLE,
             P.V_DO_MOT_PASSE,
             P.D_DO_DATE_DEBUT,
             P.D_DO_DATE_FIN,
             P.V_DO_DUREE,
             P.V_DO_ANCIENNE_REFERENCE,
             P.V_DO_REFERENCE_VIDEO,
             P.D_DO_DATE_RAPPORTEE,
             P.I_DO_CLASSE,
             P.I_DO_RACE,
             P.V_DO_LIEU,
             P.I_OR_CLE,
             P.I_CR_CLE,
             P.V_DO_REFERENCE1,
             P.V_DO_REFERENCE2,
             P.V_DO_ASSIGNE_A,
             P.D_DO_DATE_ASSIGNATION,
             P.D_DO_DATE_EVENEMENT,
             P.V_DO_CREE_PAR,
             P.D_DO_DATE_CREATION,
             C.I_TY_CLE,
             T.I_NA_CLE,
             N.I_GE_CLE,
             GE.I_GE_ENTITE,
             P.V_DO_REFERENCE3,
             P.V_DO_REFERENCE4,
             P.V_DO_REFERENCE5,
             P.C_DO_FONDE,
             P.V_DO_REFERENCE6,
             P.V_DO_REFERENCE7,
             P.I_DO_FONDE,
             P.I_RF_CLE,
             P.B_DO_ENREGISTREMENT_CONSERVE,
             P.B_DO_ENREGISTREMENT_NUMERIQUE,
             P.L_DO_ORIGINE
        FROM DO_DOSSIER   P,
             CA_CATEGORIE C,
             TY_TYPE      T,
             NA_NATURE    N,
             GE_GENRE     GE
       WHERE C.I_CA_CLE = P.I_CA_CLE
         AND T.I_TY_CLE = C.I_TY_CLE
         AND N.I_NA_CLE = T.I_NA_CLE
         AND GE.I_GE_CLE = N.I_GE_CLE
         AND P.l_si_cle = Cardex_Special.g_site
         AND N.I_NA_CLE = NEW_NATURE
         AND P.D_DO_DATE_DEBUT IN
             (SELECT MAX(D.D_DO_DATE_DEBUT)
                FROM V_DO_DOSSIER_CA_TY D
               WHERE D.I_NA_CLE = NEW_NATURE
                 AND D.d_Do_Date_Debut > sysdate - 700
                 AND D.i_cc_cle <> 14920
                 AND D.L_SI_CLE = Cardex_Special.g_site)
         AND ((NOT EXISTS
              (SELECT *
                  FROM LPD_PARTAGE_DOSSIER LPD
                 WHERE LPD.L_LPD_REFERENCE = P.L_DO_CLE
                   AND LPD.L_LPD_REF_SITE = P.L_SI_CLE
                   AND LPD.C_LPD_GENRE = 'RES') AND
              NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
              Cardex_Special.g_code_confidentialite AND
              P.V_DO_MOT_PASSE IS NULL));
  END SPW_L3_DO_DOSSIER;
  PROCEDURE SPW_L5_DO_DOSSIER(NEW_L_DO_CLE IN DO_DOSSIER.L_DO_CLE%TYPE,
                              NEW_L_SI_CLE IN DO_DOSSIER.L_SI_CLE%TYPE,
                              NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                              rc1          IN OUT DTSW_DO_DOSSIER_LDD) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.V_DO_NUMERO_DOSSIER,
             P.I_CA_CLE,
             P.I_SE_CLE,
             P.I_CC_CLE,
             P.I_NH_CLE,
             P.I_PE_CLE,
             P.I_ST_CLE,
             P.V_DO_MOT_PASSE,
             P.D_DO_DATE_DEBUT,
             P.D_DO_DATE_FIN,
             P.V_DO_DUREE,
             P.V_DO_ANCIENNE_REFERENCE,
             P.V_DO_REFERENCE_VIDEO,
             P.D_DO_DATE_RAPPORTEE,
             P.I_DO_CLASSE,
             P.I_DO_RACE,
             P.V_DO_LIEU,
             P.I_OR_CLE,
             P.I_CR_CLE,
             P.V_DO_REFERENCE1,
             P.V_DO_REFERENCE2,
             P.V_DO_ASSIGNE_A,
             P.D_DO_DATE_ASSIGNATION,
             P.D_DO_DATE_EVENEMENT,
             P.V_DO_CREE_PAR,
             P.D_DO_DATE_CREATION,
             C.I_TY_CLE,
             T.I_NA_CLE,
             N.I_GE_CLE,
             GE.I_GE_ENTITE,
             P.V_DO_REFERENCE3,
             P.V_DO_REFERENCE4,
             P.V_DO_REFERENCE5,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.I_RO_CLE as "I_LDD_RO_CLE",
             LDD.V_LDD_CREE_PAR,
             LDD.D_LDD_DATE_CREATION,
             P.C_DO_FONDE,
             P.V_DO_REFERENCE6,
             P.V_DO_REFERENCE7,
             P.I_DO_FONDE,
             P.I_RF_CLE,
             S.I_EN_CLE,
             P.B_DO_ENREGISTREMENT_CONSERVE,
             P.B_DO_ENREGISTREMENT_NUMERIQUE,
             P.L_DO_ORIGINE
        FROM LDD_LIEN_DOSSIER LDD,
             DO_DOSSIER       P,
             CA_CATEGORIE     C,
             TY_TYPE          T,
             NA_NATURE        N,
             SI_SITE          S,
             GE_GENRE         GE
       WHERE ((LDD.L_DO_CLE = P.L_DO_CLE AND LDD.L_DO_SITE = P.L_SI_CLE AND
             LDD.C_DO_GENRE = 'DO' AND
             LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_DO_CLE AND
             LDD.L_LDD_SITE = NEW_L_SI_CLE AND
             LDD.C_LDD_GENRE = NEW_C_GF_CLE) OR
             (LDD.L_DO_CLE = NEW_L_DO_CLE AND LDD.L_DO_SITE = NEW_L_SI_CLE AND
             LDD.C_DO_GENRE = NEW_C_GF_CLE AND
             LDD.L_LDD_DOSSIER_ASSOCIE = P.L_DO_CLE AND
             LDD.L_LDD_SITE = P.L_SI_CLE AND LDD.C_LDD_GENRE = 'DO'))
         AND (C.I_CA_CLE = P.I_CA_CLE AND T.I_TY_CLE = C.I_TY_CLE AND
             N.I_NA_CLE = T.I_NA_CLE AND GE.I_GE_CLE = N.I_GE_CLE)
         AND P.L_SI_CLE = S.L_SI_CLE
         AND ((P.V_DO_ASSIGNE_A = Cardex_Special.g_usager) OR
             (NOT EXISTS
              (SELECT *
                  FROM LPD_PARTAGE_DOSSIER LPD
                 WHERE LPD.L_LPD_REFERENCE = P.L_DO_CLE
                   AND LPD.L_LPD_REF_SITE = P.L_SI_CLE
                   AND LPD.C_LPD_GENRE = 'RES') AND
              (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
              Cardex_Special.g_code_confidentialite AND
              P.V_DO_MOT_PASSE IS NULL)));

       --Order by d_do_date_debut desc, v_do_numero_dossier asc;
  END SPW_L5_DO_DOSSIER;
  PROCEDURE SPW_L_SU_SUJET(rc1 IN OUT DTSW_SU_SUJET_ENTITE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.I_SX_CLE,
             P.I_ST_CLE,
             P.I_NT_CLE,
             P.I_RA_CLE,
             P.I_LS_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.V_SU_SURNOM,
             P.D_SU_DATE_NAISSANCE,
             P.L_SU_TYPE_AGE,
             P.C_SU_ASSURANCE_SOCIALE,
             P.V_SU_PERMIS_CONDUIRE,
             P.V_SU_GRANDEUR_METRIQUE,
             P.V_SU_GRANDEUR_IMPERIAL,
             P.V_SU_POIDS_METRIQUE,
             P.V_SU_POIDS_IMPERIAL,
             P.C_SU_SYSTEME,
             P.I_CC_CLE,
             P.V_SU_MOT_PASSE,
             P.V_SU_REFERENCE_1,
             P.V_SU_REFERENCE_2,
             P.V_SU_REFERENCE_3,
             P.V_SU_CREE_PAR,
             P.D_SU_DATE_CREATION,
             P.C_SU_SNDX_NOM,
             P.C_SU_SNDX_PRENOM,
             P.C_SU_SNDX_SURNOM,
             P.I_SE_CLE,
             P.I_SE_CLE_AUTRES,
             P.V_SU_NO_PASSEPORT,
             S.I_EN_CLE,
             P.V_SU_ASSURANCE_MALADIE,
             P.B_SU_IND_RDD,
             P.I_SE_CLE_CASINO,
             P.D_SU_DATE_FIN_EMPLOI
        FROM SU_SUJET P, SI_SITE S
       WHERE ((P.V_SU_MOT_PASSE IS NULL AND
             NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.D_SU_DATE_CREATION >= SYSDATE - 2) AND
             P.L_SI_CLE = S.L_SI_CLE AND
             S.I_EN_CLE in
             (select e.i_en_cle
                 from si_site e
                where e.l_si_cle = Cardex_Special.g_site) OR
             ((P.V_SU_CREE_PAR = Cardex_Special.g_usager) AND
             P.D_SU_DATE_CREATION >= SYSDATE - 2) AND
             P.L_SI_CLE = S.L_SI_CLE AND
             S.I_EN_CLE in
             (select e.i_en_cle
                 from si_site e
                where e.l_si_cle = Cardex_Special.g_site));
       --order by P.V_SU_NOM, P.V_SU_PRENOM ASC;
  END SPW_L_SU_SUJET;
  --Lecture directe des sujets, mais sans enregistrement de l'accès.
  PROCEDURE SPW_L2_SU_SUJET(NEW_L_SU_CLE IN SU_SUJET.L_SU_CLE%TYPE,
                            NEW_L_SI_CLE IN SU_SUJET.L_SI_CLE%TYPE,
                            rc1          IN OUT DTSW_SU_SUJET_ENTITE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.I_SX_CLE,
             P.I_ST_CLE,
             P.I_NT_CLE,
             P.I_RA_CLE,
             P.I_LS_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.V_SU_SURNOM,
             P.D_SU_DATE_NAISSANCE,
             P.L_SU_TYPE_AGE,
             P.C_SU_ASSURANCE_SOCIALE,
             P.V_SU_PERMIS_CONDUIRE,
             P.V_SU_GRANDEUR_METRIQUE,
             P.V_SU_GRANDEUR_IMPERIAL,
             P.V_SU_POIDS_METRIQUE,
             P.V_SU_POIDS_IMPERIAL,
             P.C_SU_SYSTEME,
             P.I_CC_CLE,
             P.V_SU_MOT_PASSE,
             P.V_SU_REFERENCE_1,
             P.V_SU_REFERENCE_2,
             P.V_SU_REFERENCE_3,
             P.V_SU_CREE_PAR,
             P.D_SU_DATE_CREATION,
             P.C_SU_SNDX_NOM,
             P.C_SU_SNDX_PRENOM,
             P.C_SU_SNDX_SURNOM,
             P.I_SE_CLE,
             P.I_SE_CLE_AUTRES,
             P.V_SU_NO_PASSEPORT,
             S.I_EN_CLE,
             P.V_SU_ASSURANCE_MALADIE,
             P.B_SU_IND_RDD,
             P.I_SE_CLE_CASINO,
             P.D_SU_DATE_FIN_EMPLOI
        FROM SU_SUJET P, SI_SITE S
       WHERE P.L_SU_CLE = NEW_L_SU_CLE
         AND P.L_SI_CLE = NEW_L_SI_CLE
         AND P.L_SI_CLE = S.L_SI_CLE;
  END SPW_L2_SU_SUJET;
  --Sert à retourner les sujets dans un onglet.
  PROCEDURE SPW_L5_SU_SUJET(NEW_L_SU_CLE IN SU_SUJET.L_SU_CLE%TYPE,
                            NEW_L_SI_CLE IN SU_SUJET.L_SI_CLE%TYPE,
                            NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                            rc1          IN OUT DTSW_SU_SUJET_ROLE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.I_SX_CLE,
             P.I_ST_CLE,
             P.I_NT_CLE,
             P.I_RA_CLE,
             P.I_LS_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.V_SU_SURNOM,
             P.D_SU_DATE_NAISSANCE,
             P.L_SU_TYPE_AGE,
             P.C_SU_ASSURANCE_SOCIALE,
             P.V_SU_PERMIS_CONDUIRE,
             P.V_SU_GRANDEUR_METRIQUE,
             P.V_SU_GRANDEUR_IMPERIAL,
             P.V_SU_POIDS_METRIQUE,
             P.V_SU_POIDS_IMPERIAL,
             P.C_SU_SYSTEME,
             P.I_CC_CLE,
             P.V_SU_MOT_PASSE,
             P.V_SU_REFERENCE_1,
             P.V_SU_REFERENCE_2,
             P.V_SU_REFERENCE_3,
             P.V_SU_CREE_PAR,
             P.D_SU_DATE_CREATION,
             P.C_SU_SNDX_NOM,
             P.C_SU_SNDX_PRENOM,
             P.C_SU_SNDX_SURNOM,
             LDD.I_RO_CLE,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.V_LDD_CREE_PAR,
             P.I_SE_CLE,
             P.I_SE_CLE_AUTRES,
             P.V_SU_NO_PASSEPORT,
             S.I_EN_CLE,
             P.V_SU_ASSURANCE_MALADIE,
             LDD.D_LDD_DATE_CREATION,
             P.B_SU_IND_RDD,
             P.I_SE_CLE_CASINO,
             P.D_SU_DATE_FIN_EMPLOI
        FROM LDD_LIEN_DOSSIER LDD, SU_SUJET P, SI_SITE S
       WHERE P.L_SI_CLE = S.L_SI_CLE
         AND ((LDD.L_DO_CLE = P.L_SU_CLE AND LDD.L_DO_SITE = P.L_SI_CLE AND
             LDD.C_DO_GENRE = 'SU' AND
             LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_SU_CLE AND
             LDD.L_LDD_SITE = NEW_L_SI_CLE AND
             LDD.C_LDD_GENRE = NEW_C_GF_CLE) OR
             (LDD.L_DO_CLE = NEW_L_SU_CLE AND LDD.L_DO_SITE = NEW_L_SI_CLE AND
             LDD.C_DO_GENRE = NEW_C_GF_CLE AND
             LDD.L_LDD_DOSSIER_ASSOCIE = P.L_SU_CLE AND
             LDD.L_LDD_SITE = P.L_SI_CLE AND LDD.C_LDD_GENRE = 'SU'))
         AND ((P.V_SU_CREE_PAR = Cardex_Special.g_usager) OR
             (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.V_SU_MOT_PASSE IS NULL));
       --Order by V_SU_NOM, V_SU_PRENOM ASC;
  END SPW_L5_SU_SUJET;
  --Sert à retourner les sujets provisoires dans un onglet.
  PROCEDURE SPW_L5_SU_SUJET_PROVISOIRE(NEW_L_SU_CLE IN SU_SUJET.L_SU_CLE%TYPE,
                                       NEW_L_SI_CLE IN SU_SUJET.L_SI_CLE%TYPE,
                                       NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                                       rc1          IN OUT DTSW_SU_SUJET_ROLE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.I_SX_CLE,
             P.I_ST_CLE,
             P.I_NT_CLE,
             P.I_RA_CLE,
             P.I_LS_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.V_SU_SURNOM,
             P.D_SU_DATE_NAISSANCE,
             P.L_SU_TYPE_AGE,
             P.C_SU_ASSURANCE_SOCIALE,
             P.V_SU_PERMIS_CONDUIRE,
             P.V_SU_GRANDEUR_METRIQUE,
             P.V_SU_GRANDEUR_IMPERIAL,
             P.V_SU_POIDS_METRIQUE,
             P.V_SU_POIDS_IMPERIAL,
             P.C_SU_SYSTEME,
             P.I_CC_CLE,
             P.V_SU_MOT_PASSE,
             P.V_SU_REFERENCE_1,
             P.V_SU_REFERENCE_2,
             P.V_SU_REFERENCE_3,
             P.V_SU_CREE_PAR,
             P.D_SU_DATE_CREATION,
             P.C_SU_SNDX_NOM,
             P.C_SU_SNDX_PRENOM,
             P.C_SU_SNDX_SURNOM,
             LDD.I_RO_CLE,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.V_LDD_CREE_PAR,
             P.I_SE_CLE,
             P.I_SE_CLE_AUTRES,
             P.V_SU_NO_PASSEPORT,
             S.I_EN_CLE,
             P.V_SU_ASSURANCE_MALADIE,
             LDD.D_LDD_DATE_CREATION,
             P.B_SU_IND_RDD,
             P.I_SE_CLE_CASINO,
             P.D_SU_DATE_FIN_EMPLOI
        FROM LDD_LIEN_DOSSIER LDD, SU_SUJET P, SI_SITE S
       WHERE P.L_SI_CLE = S.L_SI_CLE
         AND P.I_ST_CLE = 26463
         AND ((LDD.L_DO_CLE = P.L_SU_CLE AND LDD.L_DO_SITE = P.L_SI_CLE AND
             LDD.C_DO_GENRE = 'SU' AND
             LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_SU_CLE AND
             LDD.L_LDD_SITE = NEW_L_SI_CLE AND
             LDD.C_LDD_GENRE = NEW_C_GF_CLE) OR
             (LDD.L_DO_CLE = NEW_L_SU_CLE AND LDD.L_DO_SITE = NEW_L_SI_CLE AND
             LDD.C_DO_GENRE = NEW_C_GF_CLE AND
             LDD.L_LDD_DOSSIER_ASSOCIE = P.L_SU_CLE AND
             LDD.L_LDD_SITE = P.L_SI_CLE AND LDD.C_LDD_GENRE = 'SU'))
         AND ((P.V_SU_CREE_PAR = Cardex_Special.g_usager) OR
             (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.V_SU_MOT_PASSE IS NULL));
       --Order by V_SU_NOM, V_SU_PRENOM ASC;
  END SPW_L5_SU_SUJET_PROVISOIRE;
  PROCEDURE SPW_L_SO_SOCIETE(rc1 IN OUT DTSW_SO_SOCIETE_ENTITE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SO_CLE,
             P.L_SI_CLE,
             S.I_EN_CLE,
             P.I_ST_CLE,
             P.I_LS_CLE,
             P.V_SO_RAISON_SOCIALE,
             P.V_SO_NOM,
             P.I_CL_CLE,
             P.D_SO_DATE_FONDATION,
             P.I_CC_CLE,
             P.V_SO_MOT_PASSE,
             P.V_SO_REFERENCE_NOM,
             P.V_SO_REFERENCE_PRENOM,
             P.V_SO_REFERENCE_1,
             P.V_SO_REFERENCE_2,
             P.V_SO_REFERENCE_3,
             P.V_SO_CREE_PAR,
             P.D_SO_DATE_CREATION,
             P.C_SO_SNDX_RAISON_SOCIALE,
             P.C_SO_SNDX_NOM,
             P.I_SE_CLE,
             P.L_SO_CENTRE_REGIONAL,
             P.V_SO_DISTRICT,
             P.V_SO_CODE_COMPTE,
             P.B_SO_ACTIF,
             P.D_SO_DATE_INACTIVATION,
             P.B_SO_IND_RDD,
             P.V_SO_COMMENTAIRE,
             P.V_SO_RAISON_INACTIVATION,
             CR.NOM_CENTREREG,
             CC.NOM_COC,
             D.NOM_DISTRICT,
             P.I_SE_CLE_CASINO,
             P.I_SO_ECHANTILLONAGE
        FROM SO_SOCIETE                 P,
             SI_SITE                    S,
             VEXI_CDX_DDS_CENTRE_REGION CR,
             VEXI_CDX_DDS_CODE_COMPTE   CC,
             VEXI_CDX_DDS_DISTRICT      D
       WHERE ((P.V_SO_MOT_PASSE IS NULL AND
             NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.D_SO_DATE_CREATION >= SYSDATE - 2) AND
             P.L_SI_CLE = S.L_SI_CLE AND
             S.I_EN_CLE in
             (select e.i_en_cle
                 from si_site e
                where e.l_si_cle = Cardex_Special.g_site) OR
             ((P.V_SO_CREE_PAR = Cardex_Special.g_usager) AND
             P.D_SO_DATE_CREATION >= SYSDATE - 2) AND
             P.L_SI_CLE = S.L_SI_CLE AND
             S.I_EN_CLE in
             (select e.i_en_cle
                 from si_site e
                where e.l_si_cle = Cardex_Special.g_site))
         AND P.L_SO_CENTRE_REGIONAL = CR.NO_CENTREREG(+)
         AND P.V_SO_CODE_COMPTE = CC.CODE_CPTE_COC(+)
         AND P.V_SO_DISTRICT = D.NO_DISTRICT(+);
       --Order by P.V_SO_NOM ASC;
  END SPW_L_SO_SOCIETE;
  PROCEDURE SPW_L2_SO_SOCIETE(NEW_L_SO_CLE IN SO_SOCIETE.L_SO_CLE%TYPE,
                              NEW_L_SI_CLE IN SO_SOCIETE.L_SI_CLE%TYPE,
                              rc1          IN OUT DTSW_SO_SOCIETE_ENTITE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SO_CLE,
             P.L_SI_CLE,
             S.I_EN_CLE,
             P.I_ST_CLE,
             P.I_LS_CLE,
             P.V_SO_RAISON_SOCIALE,
             P.V_SO_NOM,
             P.I_CL_CLE,
             P.D_SO_DATE_FONDATION,
             P.I_CC_CLE,
             P.V_SO_MOT_PASSE,
             P.V_SO_REFERENCE_NOM,
             P.V_SO_REFERENCE_PRENOM,
             P.V_SO_REFERENCE_1,
             P.V_SO_REFERENCE_2,
             P.V_SO_REFERENCE_3,
             P.V_SO_CREE_PAR,
             P.D_SO_DATE_CREATION,
             P.C_SO_SNDX_RAISON_SOCIALE,
             P.C_SO_SNDX_NOM,
             P.I_SE_CLE,
             P.L_SO_CENTRE_REGIONAL,
             P.V_SO_DISTRICT,
             P.V_SO_CODE_COMPTE,
             P.B_SO_ACTIF,
             P.D_SO_DATE_INACTIVATION,
             P.B_SO_IND_RDD,
             P.V_SO_COMMENTAIRE,
             P.V_SO_RAISON_INACTIVATION,
             CR.NOM_CENTREREG,
             CC.NOM_COC,
             D.NOM_DISTRICT,
             P.I_SE_CLE_CASINO,
             P.I_SO_ECHANTILLONAGE
        FROM SO_SOCIETE                 P,
             SI_SITE                    S,
             VEXI_CDX_DDS_CENTRE_REGION CR,
             VEXI_CDX_DDS_CODE_COMPTE   CC,
             VEXI_CDX_DDS_DISTRICT      D
       WHERE P.L_SO_CLE = NEW_L_SO_CLE
         AND P.L_SI_CLE = NEW_L_SI_CLE
         AND P.L_SO_CENTRE_REGIONAL = CR.NO_CENTREREG(+)
         AND P.V_SO_DISTRICT = D.NO_DISTRICT(+)
         AND P.V_SO_CODE_COMPTE = CC.CODE_CPTE_COC(+);
  END SPW_L2_SO_SOCIETE;
  PROCEDURE SPW_L5_SO_SOCIETE(NEW_L_SO_CLE IN SO_SOCIETE.L_SO_CLE%TYPE,
                              NEW_L_SI_CLE IN SO_SOCIETE.L_SI_CLE%TYPE,
                              NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                              rc1          IN OUT DTSW_SO_SOCIETE_ROLE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SO_CLE,
             P.L_SI_CLE,
             P.I_ST_CLE,
             P.I_LS_CLE,
             P.V_SO_RAISON_SOCIALE,
             P.V_SO_NOM,
             P.I_CL_CLE,
             P.D_SO_DATE_FONDATION,
             P.I_CC_CLE,
             P.V_SO_MOT_PASSE,
             P.V_SO_REFERENCE_NOM,
             P.V_SO_REFERENCE_PRENOM,
             P.V_SO_REFERENCE_1,
             P.V_SO_REFERENCE_2,
             P.V_SO_REFERENCE_3,
             P.V_SO_CREE_PAR,
             P.D_SO_DATE_CREATION,
             P.C_SO_SNDX_RAISON_SOCIALE,
             P.C_SO_SNDX_NOM,
             LDD.I_RO_CLE,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.V_LDD_CREE_PAR,
             LDD.D_LDD_DATE_CREATION,
             P.I_SE_CLE,
             P.L_SO_CENTRE_REGIONAL,
             P.V_SO_DISTRICT,
             P.V_SO_CODE_COMPTE,
             P.B_SO_ACTIF,
             P.D_SO_DATE_INACTIVATION,
             P.B_SO_IND_RDD,
             P.V_SO_COMMENTAIRE,
             P.V_SO_RAISON_INACTIVATION,
             CR.NOM_CENTREREG,
             CC.NOM_COC,
             D.NOM_DISTRICT,
             P.I_SE_CLE_CASINO,
             P.I_SO_ECHANTILLONAGE
        FROM LDD_LIEN_DOSSIER           LDD,
             SO_SOCIETE                 P,
             VEXI_CDX_DDS_CENTRE_REGION CR,
             VEXI_CDX_DDS_CODE_COMPTE   CC,
             VEXI_CDX_DDS_DISTRICT      D
       WHERE ((LDD.L_DO_CLE = P.L_SO_CLE AND LDD.L_DO_SITE = P.L_SI_CLE AND
             LDD.C_DO_GENRE = 'SO' AND
             LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_SO_CLE AND
             LDD.L_LDD_SITE = NEW_L_SI_CLE AND
             LDD.C_LDD_GENRE = NEW_C_GF_CLE) OR
             (LDD.L_DO_CLE = NEW_L_SO_CLE AND LDD.L_DO_SITE = NEW_L_SI_CLE AND
             LDD.C_DO_GENRE = NEW_C_GF_CLE AND
             LDD.L_LDD_DOSSIER_ASSOCIE = P.L_SO_CLE AND
             LDD.L_LDD_SITE = P.L_SI_CLE AND LDD.C_LDD_GENRE = 'SO'))
         AND ((P.V_SO_CREE_PAR = Cardex_Special.g_usager) OR
             (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.V_SO_MOT_PASSE IS NULL))
         AND P.L_SO_CENTRE_REGIONAL = CR.NO_CENTREREG(+)
         AND P.V_SO_CODE_COMPTE = CC.CODE_CPTE_COC(+)
         AND P.V_SO_DISTRICT = D.NO_DISTRICT(+);
       --ORDER BY P.V_SO_NOM ASC;
  END SPW_L5_SO_SOCIETE;
  PROCEDURE SPW_L_VE_VEHICULE(rc1 IN OUT DTSW_VE_VEHICULE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_VE_CLE,
             P.L_SI_CLE,
             S.I_EN_CLE,
             P.I_MD_CLE,
             P.I_CC_CLE,
             P.V_VE_IMMATRICULATION,
             P.V_VE_PROVINCE,
             P.C_VE_ANNEE,
             P.V_VE_VIGNETTE,
             P.V_VE_NUMERO_SERIE,
             P.V_VE_ASSUREUR,
             P.V_VE_POLICE,
             P.D_VE_EXPIRATION_VIGNETTE,
             P.D_VE_EXPIRATION_POLICE,
             P.V_VE_CREE_PAR,
             P.D_VE_DATE_CREATION,
             P.V_VE_MOT_PASSE,
             M.I_MA_CLE,
             P.V_VE_COMMENTAIRE,
             P.L_PR_CLE
        FROM VE_VEHICULE P, MD_MODELE M, SI_SITE S
       WHERE (M.I_MD_CLE(+) = P.I_MD_CLE)
         AND ((P.V_VE_MOT_PASSE IS NULL AND
             NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.D_VE_DATE_CREATION >= SYSDATE - 2) AND
             P.L_SI_CLE = S.L_SI_CLE AND
             S.I_EN_CLE in
             (select e.i_en_cle
                 from si_site e
                where e.l_si_cle = Cardex_Special.g_site) OR
             ((P.V_VE_CREE_PAR = Cardex_Special.g_usager) AND
             P.D_VE_DATE_CREATION >= SYSDATE - 2) AND
             P.L_SI_CLE = S.L_SI_CLE AND
             S.I_EN_CLE in
             (select e.i_en_cle
                 from si_site e
                where e.l_si_cle = Cardex_Special.g_site))
       order by P.V_VE_IMMATRICULATION ASC;
  END SPW_L_VE_VEHICULE;
  PROCEDURE SPW_L2_VE_VEHICULE(NEW_L_VE_CLE IN VE_VEHICULE.L_VE_CLE%TYPE,
                               NEW_L_SI_CLE IN VE_VEHICULE.L_SI_CLE%TYPE,
                               rc1          IN OUT DTSW_VE_VEHICULE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_VE_CLE,
             P.L_SI_CLE,
             S.I_EN_CLE,
             P.I_MD_CLE,
             P.I_CC_CLE,
             P.V_VE_IMMATRICULATION,
             P.V_VE_PROVINCE,
             P.C_VE_ANNEE,
             P.V_VE_VIGNETTE,
             P.V_VE_NUMERO_SERIE,
             P.V_VE_ASSUREUR,
             P.V_VE_POLICE,
             P.D_VE_EXPIRATION_VIGNETTE,
             P.D_VE_EXPIRATION_POLICE,
             P.V_VE_CREE_PAR,
             P.D_VE_DATE_CREATION,
             P.V_VE_MOT_PASSE,
             M.I_MA_CLE,
             P.V_VE_COMMENTAIRE,
             P.L_PR_CLE
        FROM VE_VEHICULE P, MD_MODELE M, SI_SITE S
       WHERE P.L_SI_CLE = S.L_SI_CLE
         AND (M.I_MD_CLE(+) = P.I_MD_CLE)
         AND P.L_VE_CLE = NEW_L_VE_CLE
         AND P.L_SI_CLE = NEW_L_SI_CLE;
  END SPW_L2_VE_VEHICULE;
  PROCEDURE SPW_L5_VE_VEHICULE(NEW_L_VE_CLE IN VE_VEHICULE.L_VE_CLE%TYPE,
                               NEW_L_SI_CLE IN VE_VEHICULE.L_SI_CLE%TYPE,
                               NEW_C_GF_CLE IN GF_GENRE_FICHIER.C_GF_CLE%TYPE,
                               rc1          IN OUT DTSW_VE_VEHICULE_ROLE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_VE_CLE,
             P.L_SI_CLE,
             S.I_EN_CLE,
             P.I_MD_CLE,
             P.I_CC_CLE,
             P.V_VE_IMMATRICULATION,
             P.V_VE_PROVINCE,
             P.C_VE_ANNEE,
             P.V_VE_VIGNETTE,
             P.V_VE_NUMERO_SERIE,
             P.V_VE_ASSUREUR,
             P.V_VE_POLICE,
             P.D_VE_EXPIRATION_VIGNETTE,
             P.D_VE_EXPIRATION_POLICE,
             P.V_VE_CREE_PAR,
             P.D_VE_DATE_CREATION,
             P.V_VE_MOT_PASSE,
             M.I_MA_CLE,
             LDD.I_RO_CLE,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.V_LDD_CREE_PAR,
             LDD.D_LDD_DATE_CREATION,
             P.V_VE_COMMENTAIRE,
             P.L_PR_CLE
        FROM LDD_LIEN_DOSSIER LDD, VE_VEHICULE P, MD_MODELE M, SI_SITE S
       WHERE P.L_SI_CLE = S.L_SI_CLE
         AND ((LDD.L_DO_CLE = P.L_VE_CLE AND LDD.L_DO_SITE = P.L_SI_CLE AND
             LDD.C_DO_GENRE = 'VE' AND
             LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_VE_CLE AND
             LDD.L_LDD_SITE = NEW_L_SI_CLE AND
             LDD.C_LDD_GENRE = NEW_C_GF_CLE) OR
             (LDD.L_DO_CLE = NEW_L_VE_CLE AND LDD.L_DO_SITE = NEW_L_SI_CLE AND
             LDD.C_DO_GENRE = NEW_C_GF_CLE AND
             LDD.L_LDD_DOSSIER_ASSOCIE = P.L_VE_CLE AND
             LDD.L_LDD_SITE = P.L_SI_CLE AND LDD.C_LDD_GENRE = 'VE'))
         AND (M.I_MD_CLE = P.I_MD_CLE)
         AND ((P.V_VE_CREE_PAR = Cardex_Special.g_usager) OR
             (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.V_VE_MOT_PASSE IS NULL))
       ORDER BY P.V_VE_IMMATRICULATION ASC;
  END SPW_L5_VE_VEHICULE;
  PROCEDURE SPW_L_Lpv_Lien_Particularite(NEW_L_VE_CLE        IN LPV_LIEN_PARTICULARITE.L_VE_CLE%TYPE,
                                         NEW_L_LPV_REF_SITE  IN LPV_LIEN_PARTICULARITE.L_LPV_REF_SITE%TYPE,
                                         NEW_C_LPV_REF_GENRE IN LPV_LIEN_PARTICULARITE.C_LPV_REF_GENRE%TYPE,
                                         rc1                 IN OUT DTSW_LPV_LIEN_PARTICULARITE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LPV_CLE,
             P.L_SI_CLE,
             P.L_VE_CLE,
             P.I_PT_CLE,
             P.V_LPV_CREE_PAR,
             P.D_LPV_DATE_CREATION,
             P.L_LPV_REF_SITE,
             P.C_LPV_REF_GENRE,
             T.V_TR_DESCRIPTION
        FROM LPV_LIEN_PARTICULARITE P, TR_TRADUCTION T
       WHERE P.L_LPV_REF_SITE = NEW_L_LPV_REF_SITE
         AND P.C_LPV_REF_GENRE = NEW_C_LPV_REF_GENRE
         AND P.L_VE_CLE = NEW_L_VE_CLE
         AND P.I_PT_CLE = T.L_TR_CLE
         AND T.I_LA_CLE = CARDEX_SPECIAL.G_LANGUE
       ORDER BY T.V_TR_DESCRIPTION ASC;
  END SPW_L_Lpv_Lien_Particularite;
  PROCEDURE SPW_L3_Ad_Adresse(NEW_L_AD_REFERENCE IN AD_ADRESSE.L_AD_REFERENCE%TYPE,
                              NEW_L_AD_REF_SITE  IN AD_ADRESSE.L_AD_REF_SITE%TYPE,
                              NEW_C_AD_REF_GENRE IN AD_ADRESSE.C_AD_REF_GENRE%TYPE,
                              rc1                IN OUT DTS3W_AD_ADRESSE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_AD_CLE,
             P.L_SI_CLE,
             P.L_AD_REFERENCE,
             P.V_AD_ADRESSE,
             P.V_AD_ADRESSE2,
             P.L_VI_CLE,
             P.V_AD_CODE_POSTAL,
             P.V_AD_TELEPHONE_1,
             P.V_AD_TELEPHONE_2,
             P.V_AD_TELEPHONE_3,
             P.I_ST_CLE,
             P.V_AD_COMMENTAIRE,
             P.V_AD_CREE_PAR,
             P.D_AD_DATE_CREATION,
             P.V_AD_MODIFIE_PAR,
             P.D_AD_DATE_MODIFICATION,
             P.L_AD_REF_SITE,
             P.C_AD_REF_GENRE,
             Y.I_PA_CLE,
             R.L_PR_CLE,
             V.V_VI_VILLE
        FROM AD_ADRESSE P, PA_PAYS Y, PR_PROVINCE R, VI_VILLE V
       WHERE P.L_AD_REF_SITE = NEW_L_AD_REF_SITE
         AND P.C_AD_REF_GENRE = NEW_C_AD_REF_GENRE
         AND P.L_AD_REFERENCE = NEW_L_AD_REFERENCE
         AND P.L_VI_CLE = V.L_VI_CLE(+)
         AND V.L_PR_CLE = R.L_PR_CLE(+)
         AND R.I_PA_CLE = Y.I_PA_CLE(+)
       ORDER BY P.D_AD_DATE_CREATION DESC;
  END SPW_L3_Ad_Adresse;
  PROCEDURE SPW_L_Lsc_Caracteristique(NEW_L_LSC_REFERENCE IN LSC_CARACTERISTIQUE.L_LSC_REFERENCE%TYPE,
                                      NEW_L_LSC_REF_SITE  IN LSC_CARACTERISTIQUE.L_LSC_REF_SITE%TYPE,
                                      NEW_C_LSC_REF_GENRE IN LSC_CARACTERISTIQUE.C_LSC_REF_GENRE%TYPE,
                                      rc1                 IN OUT DTSW_LSC_CARACTERISTIQUE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LSC_CLE,
             P.L_SI_CLE,
             P.L_CR_CLE,
             P.L_LSC_REFERENCE,
             P.V_LSC_CREE_PAR,
             P.D_LSC_DATE_CREATION,
             P.L_LSC_REF_SITE,
             P.C_LSC_REF_GENRE,
             T.V_TR_DESCRIPTION
        FROM LSC_CARACTERISTIQUE P, TR_TRADUCTION T
       WHERE P.L_LSC_REF_SITE = NEW_L_LSC_REF_SITE
         AND P.C_LSC_REF_GENRE = NEW_C_LSC_REF_GENRE
         AND P.L_LSC_REFERENCE = NEW_L_LSC_REFERENCE
         AND P.L_CR_CLE = T.L_TR_CLE
         AND T.I_LA_CLE = CARDEX_SPECIAL.G_LANGUE
       ORDER BY T.V_TR_DESCRIPTION ASC;
  END SPW_L_Lsc_Caracteristique;
  PROCEDURE SPW_L_Ljd_Lien_Jeu_Dossier(NEW_L_DO_CLE        IN LJD_LIEN_JEU_DOSSIER.L_DO_CLE%TYPE,
                                       NEW_L_LJD_REF_SITE  IN LJD_LIEN_JEU_DOSSIER.L_LJD_REF_SITE%TYPE,
                                       NEW_C_LJD_REF_GENRE IN LJD_LIEN_JEU_DOSSIER.C_LJD_REF_GENRE%TYPE,
                                       rc1                 IN OUT DTSW_LJD_LIEN_JEU_DOSSIER) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LJD_CLE,
             P.L_SI_CLE,
             P.L_DO_CLE,
             P.I_JE_CLE,
             P.V_LJD_CREE_PAR,
             P.D_LJD_DATE_CREATION,
             P.L_LJD_REF_SITE,
             P.C_LJD_REF_GENRE
        FROM LJD_LIEN_JEU_DOSSIER P
       WHERE P.L_LJD_REF_SITE = NEW_L_LJD_REF_SITE
         AND P.C_LJD_REF_GENRE = NEW_C_LJD_REF_GENRE
         AND P.L_DO_CLE = NEW_L_DO_CLE;
  END SPW_L_Ljd_Lien_Jeu_Dossier;

  PROCEDURE SPW_L_LJV_JEU_EVAL(NEW_L_LME_CLE      IN LJV_JEU_EVAL.L_LME_CLE%TYPE,
                               NEW_L_LME_REF_SITE IN LJV_JEU_EVAL.L_LME_REF_SITE%TYPE,
                               rc1                IN OUT DTSW_LJV_JEU_EVAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LJV_CLE,
             P.L_SI_CLE,
             P.L_LME_CLE,
             P.L_LME_REF_SITE,
             P.L_JE_CLE,
             P.V_LJV_CREE_PAR,
             P.D_LJV_DATE_CREATION
        FROM LJV_JEU_EVAL P
       WHERE P.L_LME_REF_SITE = NEW_L_LME_REF_SITE
         AND P.L_LME_CLE = NEW_L_LME_CLE;
  END SPW_L_LJV_JEU_EVAL;

  PROCEDURE SPW_L_LIEN_ETAT_EVAL(NEW_L_EV_CLE      IN LEE_LIEN_ETAT_EVAL.L_EV_CLE%TYPE,
                                 NEW_L_EV_REF_SITE IN LEE_LIEN_ETAT_EVAL.L_EV_REF_SITE%TYPE,
                                 rc1               IN OUT DTSW_LIEN_ETAT_EVAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LEE_CLE,
             P.L_SI_CLE,
             P.L_EV_CLE,
             P.L_EV_REF_SITE,
             P.L_EE_CLE,
             P.V_LEE_CREE_PAR,
             P.D_LEE_DATE_CREATION
        FROM LEE_LIEN_ETAT_EVAL P
       WHERE P.L_EV_REF_SITE = NEW_L_EV_REF_SITE
         AND P.L_EV_CLE = NEW_L_EV_CLE;
  END SPW_L_LIEN_ETAT_EVAL;

  PROCEDURE SPW_L2_LIEN_ETAT_EVAL(NEW_L_EV_CLE      IN LEE_LIEN_ETAT_EVAL.L_EV_CLE%TYPE,
                                  NEW_L_EV_REF_SITE IN LEE_LIEN_ETAT_EVAL.L_EV_REF_SITE%TYPE,
                                  rc1               IN OUT DTSW2_LIEN_ETAT_EVAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_EE_CLE
        FROM LEE_LIEN_ETAT_EVAL P
       WHERE P.L_EV_REF_SITE = NEW_L_EV_REF_SITE
         AND P.L_EV_CLE = NEW_L_EV_CLE;
  END SPW_L2_LIEN_ETAT_EVAL;

  PROCEDURE SPW_L_LIEN_PROPOS_EVAL(NEW_L_EV_CLE      IN LPE_LIEN_PROPOS_EVAL.L_EV_CLE%TYPE,
                                   NEW_L_EV_REF_SITE IN LPE_LIEN_PROPOS_EVAL.L_EV_REF_SITE%TYPE,
                                   rc1               IN OUT DTSW_LIEN_PROPOS_EVAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LPE_CLE,
             P.L_SI_CLE,
             P.L_EV_CLE,
             P.L_EV_REF_SITE,
             P.L_PE_CLE,
             P.V_LPE_CREE_PAR,
             P.D_LPE_DATE_CREATION
        FROM LPE_LIEN_PROPOS_EVAL P
       WHERE P.L_EV_REF_SITE = NEW_L_EV_REF_SITE
         AND P.L_EV_CLE = NEW_L_EV_CLE;
  END SPW_L_LIEN_PROPOS_EVAL;

  PROCEDURE SPW_L2_LIEN_PROPOS_EVAL(NEW_L_EV_CLE      IN LPE_LIEN_PROPOS_EVAL.L_EV_CLE%TYPE,
                                    NEW_L_EV_REF_SITE IN LPE_LIEN_PROPOS_EVAL.L_EV_REF_SITE%TYPE,
                                    rc1               IN OUT DTSW2_LIEN_PROPOS_EVAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_PE_CLE
        FROM LPE_LIEN_PROPOS_EVAL P
       WHERE P.L_EV_REF_SITE = NEW_L_EV_REF_SITE
         AND P.L_EV_CLE = NEW_L_EV_CLE;
  END SPW_L2_LIEN_PROPOS_EVAL;

  PROCEDURE SPW_L_LIEN_VISITE_EVAL(NEW_L_LME_CLE      IN LVE_LIEN_VISITE_EVAL.L_LME_CLE%TYPE,
                                   NEW_L_LME_REF_SITE IN LVE_LIEN_VISITE_EVAL.L_LME_REF_SITE%TYPE,
                                   rc1                IN OUT DTSW_LIEN_VISITE_EVAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_LVE_CLE,
             P.L_SI_CLE,
             P.L_LME_CLE,
             P.L_LME_REF_SITE,
             P.V_LVE_PERIODE,
             P.L_LVE_NOMBRE_VISITE,
             P.L_LVE_GAIN_PERTE,
             P.V_LVE_CREE_PAR,
             P.D_LVE_DATE_CREATION
        FROM LVE_LIEN_VISITE_EVAL P
       WHERE P.L_LME_REF_SITE = NEW_L_LME_REF_SITE
         AND P.L_LME_CLE = NEW_L_LME_CLE
       order by P.V_LVE_PERIODE;
  END SPW_L_LIEN_VISITE_EVAL;

  PROCEDURE SPW_L_LDC_LIEN_DOSSIER_CAT(NEW_L_DO_CLE IN LDC_LIEN_DOSSIER_CATEGORIE.L_DO_CLE%TYPE,
                                       NEW_L_SI_CLE IN LDC_LIEN_DOSSIER_CATEGORIE.L_SI_CLE%TYPE,
                                       rc1          OUT DTSW_LDC_LIEN_DOSSIER_CAT) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.I_CA_CLE,
             P.V_LDC_CREE_PAR,
             P.D_LDC_DATE_CREATION,
             D_LDC_DATE_APPROBATION,
             V_LDC_APPROUVE_PAR
        FROM LDC_LIEN_DOSSIER_CATEGORIE P
       WHERE P.L_DO_CLE = NEW_L_DO_CLE
         AND P.L_SI_CLE = NEW_L_SI_CLE;
  END SPW_L_LDC_LIEN_DOSSIER_CAT;

  PROCEDURE SPW_L_Sv_Suivi(NEW_L_SV_REFERENCE IN SV_SUIVI.L_SV_REFERENCE%TYPE,
                           NEW_L_SV_REF_SITE  IN SV_SUIVI.L_SV_REF_SITE%TYPE,
                           NEW_C_SV_REF_GENRE IN SV_SUIVI.C_SV_REF_GENRE%TYPE,
                           rc1                IN OUT DTSW_SV_SUIVI) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SV_CLE,
             P.L_SI_CLE,
             P.L_SV_REFERENCE,
             P.L_SV_REF_SITE,
             P.C_SV_REF_GENRE,
             P.V_SV_SUIVI,
             P.I_TC_CLE,
             P.I_ST_CLE,
             P.D_SV_DATE_PREVUE,
             P.D_SV_DATE_COMPLETEE,
             P.L_SV_PO_ORIGINE,
             P.V_SV_DEMANDEUR,
             P.V_SV_INTERVENANT,
             P.L_SV_PO_ASSIGNE,
             P.V_SV_CREE_PAR,
             P.I_CC_SUIVI,
             P.I_NH_SUIVI,
             P.I_CC_CREATEUR,
             P.I_NH_CREATEUR,
             P.D_SV_DATE_CREATION,
             P.V_SV_MODIFIE_PAR,
             P.D_SV_MODIFICATION,
             P.V_SV_APPROBATEUR,
             P.I_CC_APPROBATEUR,
             P.I_NH_APPROBATEUR,
             P.D_SV_APPROBATION,
             P.V_SV_REFERENCE_1,
             P.V_SV_REFERENCE_2,
             P.V_SV_REFERENCE_3
        FROM SV_SUIVI P
       WHERE P.L_SV_REF_SITE = NEW_L_SV_REF_SITE
         AND P.C_SV_REF_GENRE = NEW_C_SV_REF_GENRE
         AND P.L_SV_REFERENCE = NEW_L_SV_REFERENCE
         AND ((P.V_SV_CREE_PAR = Cardex_Special.g_usager OR
             P.V_SV_INTERVENANT = Cardex_Special.g_usager) OR
             NVL(P.I_CC_SUIVI, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite)
       ORDER BY P.D_SV_DATE_CREATION DESC;
  END SPW_L_Sv_Suivi;
  PROCEDURE SPW_L_IS_INSCRIPTION(NEW_L_IS_REFERENCE IN IS_INSCRIPTION.L_IS_REFERENCE%TYPE,
                                 NEW_L_IS_REF_SITE  IN IS_INSCRIPTION.L_IS_REF_SITE%TYPE,
                                 NEW_C_IS_REF_GENRE IN IS_INSCRIPTION.C_IS_REF_GENRE%TYPE,
                                 rc1                IN OUT DTSW_IS_INSCRIPTION) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_IS_CLE,
             P.L_SI_CLE,
             P.L_IS_REFERENCE,
             P.V_IS_DUREE,
             P.D_IS_DATE_DEBUT,
             P.D_IS_DATE_FIN,
             P.I_IS_PERIODE,
             SIS.L_IS_SITE,
             P.I_ST_CLE,
             P.V_IS_CREE_PAR,
             P.D_IS_DATE_CREATION,
             P.V_IS_MODIFIE_PAR,
             P.D_IS_DATE_MODIFICATION,
             P.C_IS_REF_GENRE,
             P.L_IS_REF_SITE,
             S.V_SI_SITE,
             P.B_IS_AIDE_INITIALE,
             P.B_IS_AIDE_IMMEDIATE,
             P.D_IS_COURRIEL_AIDE,
             P.D_IS_COURRIEL_SUIVI,
             P.V_IS_INTERVENANT_FINAL,
             P.V_IS_INTERVENANT_INITIAL,
             P.D_IS_RENCONTRE_FINALE,
             P.D_IS_RENCONTRE_INITIALE,
             P.B_IS_TOUS_SITE_APPLICABLE,
             S.I_EN_CLE
        FROM IS_INSCRIPTION P, SIS_SITE_INSCRIPTION SIS, SI_SITE S
       WHERE P.L_IS_REF_SITE = NEW_L_IS_REF_SITE
         AND P.C_IS_REF_GENRE = NEW_C_IS_REF_GENRE
         AND P.L_IS_REFERENCE = NEW_L_IS_REFERENCE
         AND P.L_IS_CLE = SIS.L_IS_CLE
         AND P.L_SI_CLE = SIS.L_SI_CLE
         AND SIS.L_IS_SITE = S.L_SI_CLE
       ORDER BY P.D_IS_DATE_CREATION DESC, S.V_SI_SITE ASC;
  END SPW_L_IS_INSCRIPTION;
  --Lecture d'une incription
  PROCEDURE SPW_L2_IS_INSCRIPTION(NEW_L_IS_CLE IN IS_INSCRIPTION.L_IS_REFERENCE%TYPE,
                                  NEW_L_SI_CLE IN IS_INSCRIPTION.L_IS_REF_SITE%TYPE,
                                  rc1          IN OUT DTSW_IS_INSCRIPTION) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_IS_CLE,
             P.L_SI_CLE,
             P.L_IS_REFERENCE,
             P.V_IS_DUREE,
             P.D_IS_DATE_DEBUT,
             P.D_IS_DATE_FIN,
             P.I_IS_PERIODE,
             SIS.L_IS_SITE,
             P.I_ST_CLE,
             P.V_IS_CREE_PAR,
             P.D_IS_DATE_CREATION,
             P.V_IS_MODIFIE_PAR,
             P.D_IS_DATE_MODIFICATION,
             P.C_IS_REF_GENRE,
             P.L_IS_REF_SITE,
             S.V_SI_SITE,
             P.B_IS_AIDE_INITIALE,
             P.B_IS_AIDE_IMMEDIATE,
             P.D_IS_COURRIEL_AIDE,
             P.D_IS_COURRIEL_SUIVI,
             P.V_IS_INTERVENANT_FINAL,
             P.V_IS_INTERVENANT_INITIAL,
             P.D_IS_RENCONTRE_FINALE,
             P.D_IS_RENCONTRE_INITIALE,
             P.B_IS_TOUS_SITE_APPLICABLE,
             S.I_EN_CLE
        FROM IS_INSCRIPTION P, SIS_SITE_INSCRIPTION SIS, SI_SITE S
       WHERE P.L_SI_CLE = NEW_L_SI_CLE
         AND P.L_IS_CLE = NEW_L_IS_CLE
         AND P.L_IS_CLE = SIS.L_IS_CLE
         AND P.L_SI_CLE = SIS.L_SI_CLE
         AND SIS.L_IS_SITE = S.L_SI_CLE
       ORDER BY S.V_SI_SITE ASC;
  END SPW_L2_IS_INSCRIPTION;
  --Recherche des entrées du jour dans le journal de surveillance
  PROCEDURE SPW_L_DO_DOSSIER_JOURNAL(NEW_NATURE IN NA_NATURE.I_NA_CLE%TYPE,
                                     rc1        IN OUT DTSW_DO_DOSSIER_JOURNAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.V_DO_ANCIENNE_REFERENCE,
             P.V_DO_NUMERO_DOSSIER,
             P.D_DO_DATE_DEBUT,
             P.D_DO_DATE_FIN,
             P.D_DO_DATE_CREATION,
             P.V_DO_REFERENCE_VIDEO,
             P.V_DO_ASSIGNE_A,
             P.I_OR_CLE,
             P.I_CR_CLE,
             P.V_DO_LIEU,
             P.V_DO_REFERENCE1,
             P.V_DO_REFERENCE2,
             P.V_DO_REFERENCE3,
             P.V_DO_REFERENCE5,
             P.i_na_cle,
             P.I_TY_CLE,
             P.I_CA_CLE,
             C.L_CO_CLE,
             C.V_CO_TEMPS,
             C.CLOB_CO_TEXTE_NORMAL,
             P.l_do_origine
        FROM V_DO_DOSSIER_CA_TY P, CO_COMMENTAIRE2 C
       WHERE (P.I_NA_CLE = NEW_NATURE AND
             P.D_DO_DATE_CREATION >=
             to_date(to_char(sysdate, 'YYYYMMDD'), 'YYYYMMDD') AND
             P.L_SI_CLE = Cardex_Special.g_site)
         AND P.L_DO_CLE = C.L_CO_REFERENCE
         AND P.L_SI_CLE = C.L_CO_REF_SITE;
       --Order by P.d_do_date_debut desc;
  END SPW_L_DO_DOSSIER_JOURNAL;
  --Recherche directe d'une entrée de journal pour consultation à l'écran
  PROCEDURE SPW_L2_DO_DOSSIER_JOURNAL(NEW_L_DO_CLE IN DO_DOSSIER.L_DO_CLE%TYPE,
                                      NEW_L_SI_CLE IN DO_DOSSIER.L_SI_CLE%TYPE,
                                      rc1          IN OUT DTSW_DO_DOSSIER_JOURNAL) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_DO_CLE,
             P.L_SI_CLE,
             P.V_DO_ANCIENNE_REFERENCE,
             P.V_DO_NUMERO_DOSSIER,
             P.D_DO_DATE_DEBUT,
             P.D_DO_DATE_FIN,
             P.D_DO_DATE_CREATION,
             P.V_DO_REFERENCE_VIDEO,
             P.V_DO_ASSIGNE_A,
             P.I_OR_CLE,
             P.I_CR_CLE,
             P.V_DO_LIEU,
             P.V_DO_REFERENCE1,
             P.V_DO_REFERENCE2,
             P.V_DO_REFERENCE3,
             P.V_DO_REFERENCE5,
             P.i_na_cle,
             P.I_TY_CLE,
             P.I_CA_CLE,
             C.L_CO_CLE,
             C.V_CO_TEMPS,
             C.CLOB_CO_TEXTE_NORMAL,
             P.l_do_origine
        FROM V_DO_DOSSIER_CA_TY P, CO_COMMENTAIRE2 C
       WHERE P.L_DO_CLE = NEW_L_DO_CLE
         AND P.L_SI_CLE = NEW_L_SI_CLE
         AND P.L_DO_CLE = C.L_CO_REFERENCE
         AND P.L_SI_CLE = C.L_CO_REF_SITE;
  END SPW_L2_DO_DOSSIER_JOURNAL;
  PROCEDURE SPW_L_CN_CONSIGNATION(NEW_L_CN_REF_CLE   IN CN_CONSIGNATION.L_CN_REF_CLE%TYPE,
                                  NEW_L_CN_REF_SITE  IN CN_CONSIGNATION.L_CN_REF_SITE%TYPE,
                                  NEW_C_CN_REF_GENRE IN CN_CONSIGNATION.C_CN_REF_GENRE%TYPE,
                                  rc1                IN OUT DTSW_CN_CONSIGNATION) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_CN_CLE,
             P.L_SI_CLE,
             P.L_CN_REF_CLE,
             P.L_CN_REF_SITE,
             P.C_CN_REF_GENRE,
             P.I_DE_CLE,
             P.I_TN_CLE,
             P.L_CN_QUANTITE,
             P.R_CN_PRIX,
             P.R_CN_MONTANT,
             P.V_CN_POIDS,
             P.V_CN_DIMENSION,
             P.V_CN_MARQUE,
             P.V_CN_MODELE,
             P.V_CN_FOURNISSEUR,
             P.V_CN_DESCRIPTION,
             P.V_CN_COMMENTAIRE,
             P.V_CN_NUMERO_SERIE,
             P.V_CN_CREE_PAR,
             P.D_CN_DATE_CREATION,
             P.V_CN_MODIFIE_PAR,
             P.D_CN_DATE_MODIFICATION,
             P.V_CN_APPROUVE_PAR,
             P.D_CN_DATE_APPROBATION,
             P.C_CN_APPROUVABLE,
             P.C_CN_APPROUVE,
             P.V_CN_REFERENCE1,
             P.V_CN_REFERENCE2,
             P.i_Dn_Cle
        FROM CN_CONSIGNATION P
       WHERE P.L_CN_REF_SITE = NEW_L_CN_REF_SITE
         AND P.C_CN_REF_GENRE = NEW_C_CN_REF_GENRE
         AND P.L_CN_REF_CLE = NEW_L_CN_REF_CLE
       ORDER BY P.D_CN_DATE_CREATION DESC;
  END SPW_L_CN_CONSIGNATION;
  --Lecture des actions consignées pour un mandat PSU
  PROCEDURE SPW_L_CS_CONSIGNATION_ACTION(NEW_V_CS_PSU_NUMERO_MANDAT IN CS_CONSIGNATION_ACTION.V_CS_PSU_NUMERO_MANDAT%TYPE,
                                         rc1                        IN OUT DTS_CS_CONSIGNATION_ACTION) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_CS_CLE,
             P.V_CS_PSU_NUMERO_MANDAT,
             P.D_CS_DATE_CONSIGNATION,
             P.V_CS_INTERVENANT,
             P.I_TA_CLE,
             P.C_CS_GENRE_FICHIER,
             P.L_CS_REFERENCE_SOURCE_CLE,
             P.L_CS_REFERENCE_SOURCE_SITE,
             P.V_CS_REFERENCE_SOURCE,
             P.D_CS_DATE_COURRIEL,
             P.V_CS_REFERENCE_ACTION,
             P.C_CS_GENRE_FICHIER_ACTION,
             P.L_CS_REFERENCE_ACTION_CLE,
             P.L_CS_REFERENCE_ACTION_SITE
        FROM CS_CONSIGNATION_ACTION P
       WHERE P.V_CS_PSU_NUMERO_MANDAT = NEW_V_CS_PSU_NUMERO_MANDAT
       ORDER BY P.D_CS_DATE_CONSIGNATION DESC;
  END SPW_L_CS_CONSIGNATION_ACTION;

  PROCEDURE SPW_L_LIEN_BILLET(NEW_L_BI_REF_CLE   IN BI_BILLET.L_BI_REF_CLE%TYPE,
                              NEW_L_BI_REF_SITE  IN BI_BILLET.L_BI_REF_SITE%TYPE,
                              NEW_C_BI_REF_GENRE IN BI_BILLET.C_BI_REF_GENRE%TYPE,
                              rc1                OUT DTSW_BI_BILLET) IS
  BEGIN
    OPEN rc1 FOR
      SELECT B.*
        FROM BI_BILLET B
       WHERE B.L_BI_REF_CLE = NEW_L_BI_REF_CLE
         AND B.L_BI_REF_SITE = NEW_L_BI_REF_SITE
         AND B.C_BI_REF_GENRE = NEW_C_BI_REF_GENRE
       ORDER BY B.D_BI_DATE_CREATION DESC;
  END SPW_L_LIEN_BILLET;

  PROCEDURE SPW_L_BILLET(NEW_L_BI_CLE IN BI_BILLET.L_BI_CLE%TYPE,
                         NEW_L_SI_CLE IN BI_BILLET.L_SI_CLE%TYPE,
                         rc1          OUT DTSW_BI_BILLET) IS
  BEGIN
    OPEN rc1 FOR
      SELECT B.*
        FROM BI_BILLET B
       WHERE B.L_BI_CLE = NEW_L_BI_CLE
         AND B.L_SI_CLE = NEW_L_SI_CLE;
  END SPW_L_BILLET;

  PROCEDURE SPW_L_UR_URGENCE(rc1 IN OUT DTSW_UR_URGENCE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT U.L_UR_CLE,
             U.L_SI_CLE,
             S.I_EN_CLE,
             U.I_ST_CLE,
             U.I_CL_CLE,
             U.L_UR_MOTIF,
             U.L_SO_REF_CLE,
             U.L_SO_REF_SITE,
             SO.V_SO_NOM,
             U.L_UR_REF_CLE,
             U.L_UR_REF_SITE,   
             U.V_UR_UNITE,
             U.V_UR_DISTRICT,
             U.V_UR_CONTACT,
             U.V_UR_CONTACT_PRENOM,
             U.V_UR_VILLE,
             U.V_UR_EVENEMENT,
             U.V_UR_REPONDANT,
             U.V_UR_FONCTION,
             U.V_UR_MATRICULE,
             U.V_UR_CREE_PAR,
             U.D_UR_DATE_CREATION,
             D.V_DO_NUMERO_DOSSIER,
             D.L_DO_CLE
        FROM UR_URGENCE U, SI_SITE S, DO_DOSSIER D, SO_SOCIETE SO
       WHERE D.L_DO_CLE = U.L_UR_REF_CLE AND
             D.L_SI_CLE = U.L_UR_REF_SITE AND
             U.L_SI_CLE = S.L_SI_CLE AND
             SO.L_SO_CLE = U.L_SO_REF_CLE AND
             SO.L_SI_CLE = U.L_SO_REF_SITE AND
             NVL(D.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             ((U.D_UR_DATE_CREATION >= SYSDATE - 2 AND
             U.L_SI_CLE = Cardex_Special.g_site) OR
             ((U.V_UR_CREE_PAR = Cardex_Special.g_usager) AND
             U.D_UR_DATE_CREATION >= SYSDATE - 2))
      order by D.V_DO_NUMERO_DOSSIER, U.V_UR_CONTACT ASC;
  END SPW_L_UR_URGENCE;

PROCEDURE SPW_L_SU_SUJET_RDD(NEW_V_SU_NOM IN SU_SUJET.V_SU_NOM%TYPE,
                          NEW_V_SU_PRENOM IN SU_SUJET.V_SU_PRENOM%TYPE,
                          rc1          IN OUT DTS_SU_SUJET_RDD) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.D_SU_DATE_NAISSANCE,
             P.B_SU_IND_RDD
        FROM SU_SUJET P
       WHERE P.V_SU_NOM = NEW_V_SU_NOM
         AND P.V_SU_PRENOM = NEW_V_SU_PRENOM
         AND P.B_SU_IND_RDD = 'yes';
  END SPW_L_SU_SUJET_RDD;

  --Sert à retourner les sujets dans un onglet d'une société avec la date de fin d'enquête.
  PROCEDURE SPW_L6_SU_SUJET(NEW_L_SO_CLE IN SO_SOCIETE.L_SO_CLE%TYPE,
                            NEW_L_SI_CLE IN SO_SOCIETE.L_SI_CLE%TYPE,
                            rc1          IN OUT DTSW_SU_SUJET_ROLE_ENQUETE) IS
  BEGIN
    OPEN rc1 FOR
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.I_SX_CLE,
             P.I_ST_CLE,
             P.I_NT_CLE,
             P.I_RA_CLE,
             P.I_LS_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.V_SU_SURNOM,
             P.D_SU_DATE_NAISSANCE,
             P.L_SU_TYPE_AGE,
             P.C_SU_ASSURANCE_SOCIALE,
             P.V_SU_PERMIS_CONDUIRE,
             P.V_SU_GRANDEUR_METRIQUE,
             P.V_SU_GRANDEUR_IMPERIAL,
             P.V_SU_POIDS_METRIQUE,
             P.V_SU_POIDS_IMPERIAL,
             P.C_SU_SYSTEME,
             P.I_CC_CLE,
             P.V_SU_MOT_PASSE,
             P.V_SU_REFERENCE_1,
             P.V_SU_REFERENCE_2,
             P.V_SU_REFERENCE_3,
             P.V_SU_CREE_PAR,
             P.D_SU_DATE_CREATION,
             P.C_SU_SNDX_NOM,
             P.C_SU_SNDX_PRENOM,
             P.C_SU_SNDX_SURNOM,
             LDD.I_RO_CLE,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.V_LDD_CREE_PAR,
             P.I_SE_CLE,
             P.I_SE_CLE_AUTRES,
             P.V_SU_NO_PASSEPORT,
             S.I_EN_CLE,
             P.V_SU_ASSURANCE_MALADIE,
             LDD.D_LDD_DATE_CREATION,
             P.B_SU_IND_RDD,
             P.I_SE_CLE_CASINO,
             P.D_SU_DATE_FIN_EMPLOI,
             null DATE_FIN_ENQUETE
        FROM LDD_LIEN_DOSSIER LDD, SU_SUJET P, SI_SITE S
       WHERE P.L_SI_CLE = S.L_SI_CLE
         and p.i_cc_cle <> 14920
         and LDD.L_DO_CLE = P.L_SU_CLE AND LDD.L_DO_SITE = P.L_SI_CLE 
         AND LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_SO_CLE
         AND LDD.L_LDD_SITE = NEW_L_SI_CLE
         AND LDD.C_LDD_GENRE = 'SO'
         AND LDD.C_DO_GENRE = 'SU'
             and not exists (select d2.l_do_cle from do_dossier d2, ldd_lien_dossier l2
          where d2.l_do_cle = l2.l_do_cle
         and d2.l_si_cle = l2.l_do_site
         and l2.c_do_genre = 'DO'
         and l2.l_ldd_dossier_associe = p.l_su_cle
         and l2.l_ldd_site = p.l_si_cle
         and l2.c_ldd_genre = 'SU'
         and l2.i_ro_cle in (949,946,998,999))
         AND ((P.V_SU_CREE_PAR = Cardex_Special.g_usager) OR
         (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
         Cardex_Special.g_code_confidentialite AND
         P.V_SU_MOT_PASSE IS NULL))
      union
      SELECT P.L_SU_CLE,
             P.L_SI_CLE,
             P.I_SX_CLE,
             P.I_ST_CLE,
             P.I_NT_CLE,
             P.I_RA_CLE,
             P.I_LS_CLE,
             P.V_SU_NOM,
             P.V_SU_PRENOM,
             P.V_SU_SURNOM,
             P.D_SU_DATE_NAISSANCE,
             P.L_SU_TYPE_AGE,
             P.C_SU_ASSURANCE_SOCIALE,
             P.V_SU_PERMIS_CONDUIRE,
             P.V_SU_GRANDEUR_METRIQUE,
             P.V_SU_GRANDEUR_IMPERIAL,
             P.V_SU_POIDS_METRIQUE,
             P.V_SU_POIDS_IMPERIAL,
             P.C_SU_SYSTEME,
             P.I_CC_CLE,
             P.V_SU_MOT_PASSE,
             P.V_SU_REFERENCE_1,
             P.V_SU_REFERENCE_2,
             P.V_SU_REFERENCE_3,
             P.V_SU_CREE_PAR,
             P.D_SU_DATE_CREATION,
             P.C_SU_SNDX_NOM,
             P.C_SU_SNDX_PRENOM,
             P.C_SU_SNDX_SURNOM,
             LDD.I_RO_CLE,
             LDD.L_LDD_CLE,
             LDD.L_SI_CLE as "L_LDD_SI_CLE",
             LDD.V_LDD_CREE_PAR,
             P.I_SE_CLE,
             P.I_SE_CLE_AUTRES,
             P.V_SU_NO_PASSEPORT,
             S.I_EN_CLE,
             P.V_SU_ASSURANCE_MALADIE,
             LDD.D_LDD_DATE_CREATION,
             P.B_SU_IND_RDD,
             P.I_SE_CLE_CASINO,
             P.D_SU_DATE_FIN_EMPLOI,
             d.d_do_date_fin DATE_FIN_ENQUETE
        from LDD_LIEN_DOSSIER LDD, SU_SUJET P, SI_SITE S, do_dossier d, ldd_lien_dossier l
         WHERE P.L_SI_CLE = S.L_SI_CLE
         and p.i_cc_cle <> 14920
         and LDD.L_DO_CLE = P.L_SU_CLE AND LDD.L_DO_SITE = P.L_SI_CLE 
         AND LDD.L_LDD_DOSSIER_ASSOCIE = NEW_L_SO_CLE
         AND LDD.L_LDD_SITE = NEW_L_SI_CLE
         AND LDD.C_LDD_GENRE = 'SO'
         AND LDD.C_DO_GENRE = 'SU'
         and d.l_do_cle = l.l_do_cle
         and d.l_si_cle = l.l_do_site
         and l.c_do_genre = 'DO'
         and l.l_ldd_dossier_associe = p.l_su_cle
         and l.l_ldd_site = p.l_si_cle
         and l.c_ldd_genre = 'SU'
         and l.i_ro_cle in (949,946,998,999)
                  and d.l_do_cle = (select max(d2.l_do_cle) from do_dossier d2, ldd_lien_dossier l2
          where d2.l_do_cle = l2.l_do_cle
         and d2.l_si_cle = l2.l_do_site
         and l2.c_do_genre = 'DO'
         and l2.l_ldd_dossier_associe = p.l_su_cle
         and l2.l_ldd_site = p.l_si_cle
         and l2.c_ldd_genre = 'SU'
         and l2.i_ro_cle in (949,946,998,999))
         AND ((P.V_SU_CREE_PAR = Cardex_Special.g_usager) OR
             (NVL(P.I_CC_CLE, Cardex_Special.g_code_confidentialite) <=
             Cardex_Special.g_code_confidentialite AND
             P.V_SU_MOT_PASSE IS NULL));
  END SPW_L6_SU_SUJET;
  
END Cardex_Web_Lire_Doc_Tri;
/
